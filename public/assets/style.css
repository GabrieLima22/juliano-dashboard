    /* === TOKENS === */
    :root{
      --accent-h:145;
      --accent-1:hsl(var(--accent-h) 75% 55%);
      --accent-2:hsl(calc(var(--accent-h)+20) 78% 50%);
      --accent-3:hsl(var(--accent-h) 90% 60%);

        /* paths dos banners */
  --banner-dark: url("./CEOjml.jpg");
  --banner-light: url("./CEOjml2.jpg");
  --banner-use: var(--banner-dark);

      /* dark */
      --bg:#060b16; --bg-soft:#0d1524; --card:#111b2d;
      --text:#e6edf3; --muted:#9fb0c7; --chip:#141c2a;
      --stroke:#1b2332; --ring:#283449;

      /* light */
      --l-bg:#f6f8ff; --l-card:#fff; --l-text:#111827; --l-muted:#5b6473; --l-stroke:#e6ecf3;

      --warn:#f59e0b; --danger:#ef4444;
      --r10:10px; --r12:12px; --r14:14px; --r16:16px;

      /* defaults to keep dark theme applied before JS toggles */
      --bg-use:var(--bg); --bg-soft-use:var(--bg-soft); --card-use:var(--card);
      --text-use:var(--text); --muted-use:var(--muted); --chip-use:var(--chip);
      --stroke-use:var(--stroke);

      /* Posição fina do banner (x/y). Ajuste se quiser “desencortar” mais. */
    --banner-x:50%;
    --banner-y:50%;
    --banner-x-m:50%;
    --banner-y-m:50%;
    }

    /* troca automática pelo tema */
  :where(html.theme-light,body.theme-light){
    --banner-use: var(--banner-light);
  }

  /* container visual do banner */
  .banner{
    position:relative;
    border-radius:28px;
    overflow:hidden;
    margin:8px 0 18px;

    /* IGUAL ao arquivo do Canva (21:5) */
    aspect-ratio:21/5;
    min-height:140px;

    background: var(--banner-use) no-repeat;
    background-size: cover;                 /* preenche sem faixas */
    background-position: var(--banner-x) var(--banner-y);
  }

  .banner--tall{
    aspect-ratio: 21 / 4.5;
    min-height: 184px;
  }

  /* MODO “CABER INTEIRA”: encolhe a imagem – quase nada de corte */
  .banner--contain{
    background-size: contain !important;
    background-position: center center !important;
    background-color: var(--bg-soft-use);
  }



  /* um leve overlay pra integrar com o resto do layout */
  .banner::after{
    content:"";
    position:absolute; inset:0;
    background:
      radial-gradient(120% 140% at 0% 0%, rgba(0,0,0,.18), transparent 60%),
      radial-gradient(140% 120% at 100% 0%, rgba(0,0,0,.12), transparent 62%);
    mix-blend-mode: multiply;
    pointer-events: none;
  }

  /* mobile: banner um pouco mais alto */
  @media (max-width: 640px){
    .banner{ aspect-ratio: 21/9.6; min-height: 78px; background-position: center 48%; }

  }
  @media (max-width: 640px){
    .banner{
      height: clamp(92px, 24vw, 120px);
      background-position: var(--banner-x-m) var(--banner-y-m);
    }
  }

  /* botão/área de ações no banner */
  .banner__tools{
    position:absolute;
    top:12px; right:12px;
    display:flex; gap:8px;
    z-index:2;
  }
  .banner__config{
    backdrop-filter: blur(6px);
    border-color: rgba(255,255,255,.18);
  }
  :where(html.theme-light,body.theme-light) .banner__config{
    border-color: rgba(148,163,184,.26);
  }

  /* === HERO COMPACTO (vira só a barra de ações) ============ */
  .hero--compact{
    grid-template-columns: 1fr;        /* só uma coluna */
    gap: 12px;
    padding: 12px 16px;
    background: var(--card-use);
    box-shadow: 0 18px 40px rgba(0,0,0,.35);
  }
  .hero--compact::before,
  .hero--compact::after{ display:none !important; }  /* remove os brilhos do hero */
  .hero--compact .hero__art,
  .hero--compact .hero__text{ display:none !important; }  /* some com avatar e títulos */
  .hero--compact .hero__actions{
    justify-content: flex-end;
    gap: 10px;
  }
  .hero--compact .hero__meta{
    color: var(--muted-use);
    font-size: 12px;
    margin-left: 8px;
  }
  @media (max-width: 1024px){
    .hero--compact .hero__actions{ justify-content: flex-start; }
  }

    /* === THEME SWITCH (compat html e body) === */
    :where(html.theme-dark,body.theme-dark){
      --bg-use:var(--bg); --bg-soft-use:var(--bg-soft); --card-use:var(--card);
      --text-use:var(--text); --muted-use:var(--muted); --chip-use:var(--chip);
      --stroke-use:var(--stroke);
    }
    :where(html.theme-light,body.theme-light){
      --bg-use:var(--l-bg); --bg-soft-use:#f2f6fb; --card-use:var(--l-card);
      --text-use:var(--l-text); --muted-use:var(--l-muted); --chip-use:#f2f4f8;
      --stroke-use:var(--l-stroke);
    }

    html.theme-dark{background-color:#060b16;}
    html.theme-light{background-color:#f6f8ff;}

    html,body{height:100%}
    *{box-sizing:border-box}
    body{
      margin:0;
      color:var(--text-use);
      font:500 15px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto;
      transition:background .35s ease,color .35s ease;
    }
    body.no-scroll{overflow:hidden}

    /* === BACKGROUNDS === */
    body.theme-dark, html.theme-dark body{
      background-color:#03060c;
      background:
        radial-gradient(135% 110% at 14% -18%, hsla(var(--accent-h) 88% 60% /.42), transparent 58%),
        radial-gradient(120% 120% at 90% -12%, hsla(calc(var(--accent-h)+90) 78% 54% /.28), transparent 64%),
        radial-gradient(140% 150% at 50% 120%, rgba(8,12,24,.92), transparent 78%),
        linear-gradient(188deg, #040811 0%, #060a16 40%, #0f172a 100%);
    }
    body.theme-light, html.theme-light body{
      background-color:#f5f7ff;
      background:
        radial-gradient(140% 120% at 12% -18%, hsla(var(--accent-h) 96% 86% /.58), transparent 58%),
        radial-gradient(135% 135% at 94% -6%, hsla(calc(var(--accent-h)+60) 88% 80% /.48), transparent 64%),
        radial-gradient(120% 200% at 50% 118%, rgba(255,255,255,.96), transparent 82%),
        linear-gradient(182deg, #ffffff 0%, #eef3ff 52%, #dbe4ff 100%);
    }

    /* === BG ANIMADO (camada abaixo do conteudo) === */
    :root{
      --bgfx-a: hsl(var(--accent-h,160) 85% 60% / .34);
      --bgfx-b: hsl(calc(var(--accent-h,160) + 80) 78% 60% / .26);
      --bgfx-c: hsl(calc(var(--accent-h,160) + 210) 70% 52% / .22);
      --bgfx-noise: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.55' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='matrix' values='0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 0.18 0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)'/%3E%3C/svg%3E");
    }

    body.bgfx{
      position: relative;
      overflow-x: hidden;
    }

    body.bgfx::before,
    body.bgfx::after{
      content:"";
      position: fixed;
      inset: -26vmax;
      pointer-events: none;
      z-index: 0;
      filter: blur(51px) saturate(125%);
      transform: translateZ(0);
    }

    body.bgfx::before{
      background:
        radial-gradient(44vmax 34vmax at 18% 24%, var(--bgfx-a), transparent 70%),
        radial-gradient(50vmax 36vmax at 82% 18%, var(--bgfx-b), transparent 74%),
        radial-gradient(54vmax 44vmax at 50% 118%, var(--bgfx-c), transparent 78%);
      mix-blend-mode: screen;
      animation: bgfloat1 32s ease-in-out infinite alternate;
    }

    body.bgfx::after{
      inset: -30vmax;
      background:
        radial-gradient(42vmax 32vmax at 28% 82%, var(--bgfx-c), transparent 74%),
        radial-gradient(46vmax 30vmax at 72% 70%, var(--bgfx-b), transparent 76%),
        var(--bgfx-noise);
      background-repeat: no-repeat, no-repeat, repeat;
      background-size: 120% 120%, 120% 120%, 320px 320px;
      mix-blend-mode: color-dodge;
      opacity: .85;
      animation: bgfloat2 36s cubic-bezier(.38,.12,.28,1) infinite alternate;
    }

    :where(html.theme-light,body.theme-light) body.bgfx::before,
    :where(html.theme-light,body.theme-light) body.bgfx::after{
      filter: blur(63px) saturate(138%);
      opacity:.92;
    }

    @keyframes bgfloat1{
      0%{ transform: translate(-6%, -4%) scale(1) rotate(0deg); }
      100%{ transform: translate(3%, 4%) scale(1.04) rotate(7deg); }
    }
    @keyframes bgfloat2{
      0%{ transform: translate(5%, 5%) scale(1.02) rotate(0deg); }
      100%{ transform: translate(-4%, -3%) scale(1.05) rotate(-6deg); }
    }

    /* === LAYOUT === */
    .container{max-width:1280px;margin:0 auto;padding:36px 32px 64px}
    .hero{
      position:relative;display:grid;grid-template-columns:120px minmax(0,1fr) auto;gap:32px;
      padding:32px 36px;margin-bottom:32px;border-radius:36px;border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(135deg,rgba(15,20,32,.72),rgba(10,14,24,.6));
      box-shadow:0 28px 70px rgba(6,12,24,.55);overflow:hidden;align-items:center;
      isolation:isolate;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-3px;
      border-radius:inherit;
      background:
        radial-gradient(40% 55% at 6% 18%, hsla(var(--accent-h) 85% 62% /.65), transparent 70%),
        radial-gradient(45% 60% at 98% 14%, hsla(calc(var(--accent-h)+40) 82% 60% /.55), transparent 72%),
        radial-gradient(60% 80% at 50% 120%, hsla(calc(var(--accent-h)+300) 78% 58% /.45), transparent 75%);
      filter:saturate(120%);
      z-index:0;
      pointer-events:none;
    }
    .hero::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      border:1px solid rgba(255,255,255,.14);
      mix-blend-mode:screen;
      pointer-events:none;
      z-index:0;
    }
    .hero > *{
      position:relative;
      z-index:1;
    }
    .hero__art{position:relative;width:120px;height:120px;display:flex;align-items:center;justify-content:center}
    .hero__orb{width:88px;height:88px;border-radius:30px;background:radial-gradient(160% 160% at 20% -20%,var(--accent-3),transparent 60%),var(--accent-2);box-shadow:0 18px 45px hsla(var(--accent-h) 80% 55% /.55),inset 0 0 26px hsla(var(--accent-h) 90% 60% /.5)}
    .hero__initials{position:absolute;font-weight:800;letter-spacing:.2em;color:#fff;font-size:18px;text-transform:uppercase;text-shadow:0 8px 24px rgba(0,0,0,.35)}
  .hero__halo{position:absolute;inset:-30%;border-radius:50%;background:radial-gradient(circle,hsla(var(--accent-h) 85% 70% /.45),transparent 60%);filter:blur(35px);opacity:.7}
    .hero__text{position:relative;z-index:1;display:grid;gap:8px}
    .hero__tag{display:inline-flex;align-items:center;gap:8px;font-size:12px;font-weight:600;letter-spacing:.3em;text-transform:uppercase;color:hsla(var(--accent-h) 70% 75% /.9)}
    .hero__tag::before{content:"";width:32px;height:2px;border-radius:2px;background:hsla(var(--accent-h) 70% 70% /.6)}
    .hero__title{font-size:clamp(1.5rem,2.6vw,2.2rem);margin:0;font-weight:800;letter-spacing:.01em;color:#fff}
    .hero__subtitle{margin:0;font-size:15px;color:rgba(226,233,255,.82);max-width:420px}
    .hero__actions{display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end;position:relative;z-index:1}
    .hero__form{margin:0}
    .hero__btn{min-width:150px;justify-content:center}
    .brand{display:flex;gap:14px;align-items:center}
    .logo{width:40px;height:40px;border-radius:14px;background:radial-gradient(160% 160% at 20% -20%,var(--accent-3),transparent 60%),var(--accent-2);box-shadow:0 12px 28px hsla(var(--accent-h) 80% 55% /.35),inset 0 0 20px hsla(var(--accent-h) 90% 60% /.4)}
    .title{font-weight:800;font-size:clamp(1.1rem,2vw,1.5rem);letter-spacing:.01em}
    .badge{padding:6px 10px;border:1px solid var(--stroke-use);border-radius:999px;color:var(--muted-use);font-size:12px;background:rgba(255,255,255,.03)}
    a{color:inherit;text-decoration:none}

    /* LIGHT variations */
    :where(html.theme-light,body.theme-light) .badge{
      background:rgba(255,255,255,.92); color:var(--l-muted);
      border-color:rgba(148,163,184,.26); box-shadow:0 8px 24px rgba(148,163,184,.12);
    }
    :where(html.theme-light,body.theme-light) .hero{border:1px solid rgba(148,163,184,.2);background:linear-gradient(140deg,rgba(255,255,255,.96),rgba(240,245,255,.86));box-shadow:0 30px 70px rgba(148,163,184,.25)}
    :where(html.theme-light,body.theme-light) .hero::before{
      background:
        radial-gradient(42% 55% at 8% 16%, hsla(var(--accent-h) 88% 74% /.55), transparent 72%),
        radial-gradient(48% 60% at 94% 12%, hsla(calc(var(--accent-h)+45) 82% 72% /.48), transparent 74%),
        radial-gradient(60% 82% at 50% 118%, hsla(calc(var(--accent-h)+305) 68% 70% /.4), transparent 78%);
      filter:saturate(135%);
    }
    :where(html.theme-light,body.theme-light) .hero::after{
      border-color:rgba(148,163,184,.28);
      mix-blend-mode:normal;
    }
    :where(html.theme-light,body.theme-light) .hero__tag{color:hsla(var(--accent-h) 70% 45% /.9)}
    :where(html.theme-light,body.theme-light) .hero__tag::before{background:hsla(var(--accent-h) 75% 50% /.45)}
    :where(html.theme-light,body.theme-light) .hero__title{color:var(--l-text)}
    :where(html.theme-light,body.theme-light) .hero__subtitle{color:rgba(28,37,56,.72)}
    :where(html.theme-light,body.theme-light) .hero__halo{opacity:.5;filter:blur(53px)}
    :where(html.theme-light,body.theme-light) .hero__orb{background:radial-gradient(160% 160% at 20% -20%,rgba(255,255,255,.86),transparent 60%),var(--accent-2);box-shadow:0 18px 40px hsla(var(--accent-h) 75% 55% /.35),inset 0 0 24px hsla(var(--accent-h) 85% 60% /.45)}
    :where(html.theme-light,body.theme-light) .hero__actions .btn{border-color:rgba(148,163,184,.24)}
    :where(html.theme-light,body.theme-light) .hero__initials{color:rgba(30,41,59,.85)}
    :where(html.theme-light,body.theme-light) .card{background:linear-gradient(180deg,var(--card-use),#f6f8ff);box-shadow:0 22px 48px rgba(148,163,184,.18)}
    :where(html.theme-light,body.theme-light) .kpis .card{
      background:linear-gradient(180deg,#fff,#f3f6ff);
      box-shadow:0 20px 52px rgba(148,163,184,.18);
    }
    :where(html.theme-light,body.theme-light) .kpis .card:hover{
      border-color:rgba(148,163,184,.28);
      box-shadow:0 26px 64px rgba(148,163,184,.24);
      background:linear-gradient(180deg,#ffffff,#ecf2ff);
    }
    :where(html.theme-light,body.theme-light) .kpis .card::after{
      background:radial-gradient(circle at 20% 20%, hsla(var(--accent-h) 75% 75% /.32), transparent 62%);
    }
    :where(html.theme-light,body.theme-light) .kpis .card:active{
      box-shadow:0 20px 52px rgba(148,163,184,.24);
    }
    :where(html.theme-light,body.theme-light) .card h4{color:rgba(17,24,39,.6)}
    :where(html.theme-light,body.theme-light) .btn{border-color:rgba(148,163,184,.22)}
    :where(html.theme-light,body.theme-light) .btn:hover{box-shadow:0 0 0 3px hsla(var(--accent-h) 70% 55% /.25)}

    /* === BUTTONS & FIX HOVER (tema claro) === */
    .btn{
      appearance:none;border:1px solid var(--stroke-use);
      background:linear-gradient(180deg,#121a28,#0d1420);
      color:var(--text-use);border-radius:var(--r10);
      padding:10px 14px;cursor:pointer;transition:.15s;
      display:inline-flex;gap:10px;align-items:center;
    }
    :where(html.theme-light,body.theme-light) .btn{background:linear-gradient(180deg,#fff,#f6f8fb)}
    .btn:hover{border-color:var(--ring);box-shadow:0 0 0 3px hsl(var(--accent-h) 90% 50% /.18)}
    .btn--primary{background:linear-gradient(180deg,var(--accent-2),hsl(var(--accent-h) 62% 36%));border-color:hsl(var(--accent-h) 62% 36%)}
    .btn--danger{background:linear-gradient(180deg,#b91c1c,#991b1b);border-color:#8b1c1c}

    /* mantÃƒÂ©m texto preto no hover/over no tema claro */
    :where(html.theme-light,body.theme-light) .btn:hover,
    :where(html.theme-light,body.theme-light) .chip--toggle:hover,
    :where(html.theme-light,body.theme-light) .filters .chip--toggle:hover { color: var(--l-text); }

    /* === FOCUS === */
    .btn:focus-visible,
    .chip--toggle:focus-visible,
    .kpi:focus-visible{
      outline:none;box-shadow:0 0 0 3px hsla(var(--accent-h) 85% 60% /.35), 0 0 0 1px var(--accent-2) inset;border-color:var(--accent-2)
    }

    /* === GRID / CARDS === */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:20px}
    .grid.kpis{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .card{background:linear-gradient(180deg,var(--card-use),var(--bg-soft-use));border:1px solid var(--stroke-use);border-radius:var(--r16);padding:22px;box-shadow:0 20px 60px rgba(0,0,0,.35)}
    .card h4{margin:0 0 14px;font-weight:700;color:var(--muted-use)}
    .card--filter-panel{display:grid;gap:18px;margin-bottom:18px}
    .card--filter-panel .filters__group{margin:0}
    .kpis .card{
      position:relative;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      gap:14px;
      min-height:190px;
      overflow:hidden;
      border-radius:var(--r16);
      transition:
        transform .32s cubic-bezier(.22,.75,.25,1),
        box-shadow .32s ease,
        border-color .32s ease,
        background .36s ease;
    }
    .kpis .card::after{
      content:"";
      position:absolute;
      inset:-4px;
      border-radius:inherit;
      background:radial-gradient(circle at 25% 20%, hsla(var(--accent-h) 85% 65% /.28), transparent 65%);
      opacity:0;
      transform:scale(.94);
      transition:opacity .35s ease, transform .35s ease;
      pointer-events:none;
    }
    .kpis .card:hover{
      transform:translateY(-8px);
      box-shadow:0 28px 72px rgba(0,0,0,.46);
      border-color:rgba(255,255,255,.16);
      background:linear-gradient(180deg,rgba(255,255,255,.14),rgba(255,255,255,.05));
    }
    .kpis .card:hover::after{opacity:.42;transform:scale(1);}
    .kpis .card:active{transform:translateY(-4px);box-shadow:0 18px 46px rgba(0,0,0,.4);}
    .kpis .card h4{font-size:13px;text-transform:uppercase;letter-spacing:.06em}
    .amount{font-size:26px;font-weight:900;letter-spacing:.4px}
    .amount--ok{color:#86efac}
    .amount--bad{color:#fda4af}
    .sub{color:var(--muted-use);font-size:12px;margin-top:6px}
    .progress{height:8px;background:#0b1320;border:1px solid #15233a;border-radius:999px;overflow:hidden;margin-top:10px}
    :where(html.theme-light,body.theme-light) .progress{background:#e8eef6;border-color:var(--l-stroke)}
    .bar{height:100%;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));width:0;transition:width .5s}
    .bar--rec{background:linear-gradient(90deg,#38bdf8,#22d3ee)}
    .bar--rcv{background:linear-gradient(90deg,#34d399,#10b981)}
    .bar--ovd{background:linear-gradient(90deg,#f87171,#ef4444)}

    /* === LISTAS / CHIPS === */
    .alert{display:flex;align-items:center;gap:10px;padding:14px 16px;border:1px dashed var(--stroke-use);border-radius:var(--r12);background:rgba(255,255,255,.02);color:var(--muted-use)}
    .section-title{margin:24px 0 10px;color:#c3d2ea;font-weight:800;display:block}
    :where(html.theme-light,body.theme-light) .section-title--row span{color:inherit}
    .section-title--row{display:flex;align-items:center;gap:16px;flex-wrap:wrap;justify-content:space-between}
    .section-title--row > span{flex:1 1 auto}
    .section-title--row .filters__group{margin-left:auto}
    :where(html.theme-light,body.theme-light) .section-title{color:#213047}
    .list{display:flex;flex-direction:column;gap:12px}
    .item{border:1px solid var(--stroke-use);border-radius:var(--r14);padding:14px 16px;background:linear-gradient(180deg,var(--card-use),var(--bg-soft-use))}
    .item .top{display:flex;align-items:center;gap:12px;justify-content:space-between}
    .entity{font-weight:800}

    .chips{display:flex;gap:6px;flex-wrap:wrap}
    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 16px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.08);
      color:var(--muted-use);
      font-weight:600;
      cursor:pointer;
      transition:transform .2s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .chip:focus-visible{outline:none;box-shadow:0 0 0 3px hsla(var(--accent-h) 80% 55% /.42)}
    .chip--active,
    .chip[aria-pressed="true"]{
      background:linear-gradient(135deg,hsl(var(--accent-h) 82% 52%),hsl(calc(var(--accent-h)+20) 78% 50%));
      color:#fff;
      border-color:transparent;
      box-shadow:0 16px 32px hsla(var(--accent-h) 72% 48% /.45);
    }
    .chip--ghost{background:transparent;border:1px solid rgba(255,255,255,.14);color:var(--muted-use)}

    :where(html.theme-light,body.theme-light) .chip{
      background:linear-gradient(145deg,#ffffff,rgba(240,244,255,.9));
      border-color:rgba(148,163,184,.28);
      color:#0f172a;
      box-shadow:0 8px 20px rgba(148,163,184,.18);
    }
    :where(html.theme-light,body.theme-light) .chip:hover{box-shadow:0 16px 30px rgba(148,163,184,.22)}
    :where(html.theme-light,body.theme-light) .chip--active,
    :where(html.theme-light,body.theme-light) .chip[aria-pressed="true"]{
      background:linear-gradient(135deg,hsl(var(--accent-h) 88% 66%),hsl(calc(var(--accent-h)+20) 82% 58%));
      color:#082032;
      border-color:rgba(15,23,42,.22);
      box-shadow:0 14px 28px hsla(var(--accent-h) 64% 48% /.32),0 0 0 1px rgba(15,23,42,.18) inset;
    }
    :where(html.theme-light,body.theme-light) .chip--ghost{border-color:rgba(15,23,42,.18);color:rgba(15,23,42,.72)}
    .chip--danger{color:#fca5a5;border-color:#3b1515;background:#1b0e0e}
    .chip.mono,.mono{font-feature-settings:"tnum";letter-spacing:.02em}
    .js-entity{cursor:pointer}


    /* === ACCORDION (Lista) === */
    .acc details{
      position:relative;border:1px solid rgba(255,255,255,.08);border-radius:24px;
      background:linear-gradient(160deg,rgba(16,22,34,.88),rgba(9,14,24,.78));
      overflow:hidden;margin-bottom:16px;box-shadow:0 18px 45px rgba(6,12,24,.48);
      transition:transform .3s ease,box-shadow .3s ease;
    }
    .acc details::before{
      content:"";position:absolute;inset:-50% -40% auto -30%;height:70%;
      background:radial-gradient(circle at 20% 20%,hsla(var(--accent-h) 80% 60% /.35),transparent 60%);
      filter:blur(60px);opacity:.6;pointer-events:none;
    }
    .acc details:hover{transform:translateY(-2px);box-shadow:0 24px 60px rgba(6,12,24,.55)}
    .acc summary{list-style:none;cursor:pointer;padding:20px 22px;display:flex;align-items:center;justify-content:space-between;gap:16px;position:relative;z-index:1}
    .acc summary::-webkit-details-marker{display:none}
    .acc summary::after{
      content:"";width:12px;height:12px;border-right:2px solid rgba(255,255,255,.6);border-bottom:2px solid rgba(255,255,255,.6);
      transform:rotate(-45deg);transition:.3s ease;
    }
    .acc details[open] summary::after{transform:rotate(45deg);margin-top:6px}
    :where(html.theme-light,body.theme-light) .acc summary::after{border-color:rgba(71,85,105,.65)}
    .acc details[open] summary{padding-bottom:12px}
    .acc .entity{font-size:1.05rem;font-weight:800;letter-spacing:.01em}
    .acc .chips{gap:10px}
    .acc summary .chips .chip{background:rgba(255,255,255,.08);color:rgba(222,230,248,.88);border-color:rgba(255,255,255,.12);font-weight:600}
    .acc summary .chips .chip:nth-child(1){background:linear-gradient(135deg,rgba(34,197,94,.28),rgba(16,185,129,.18));color:#bbf7d0;border-color:rgba(74,222,128,.25)}
    .acc summary .chips .chip:nth-child(2){background:linear-gradient(135deg,rgba(249,115,22,.26),rgba(234,88,12,.18));color:#fed7aa;border-color:rgba(251,146,60,.3)}
    .acc summary .chips .chip:nth-child(3){background:linear-gradient(135deg,rgba(147,197,253,.26),rgba(96,165,250,.18));color:#bfdbfe;border-color:rgba(96,165,250,.25)}
    .acc details .progress{background:rgba(8,14,24,.7);border-color:rgba(255,255,255,.08);box-shadow:inset 0 2px 6px rgba(0,0,0,.35)}
    .acc details .progress .bar{background:linear-gradient(90deg,hsl(var(--accent-h) 85% 62%),hsl(calc(var(--accent-h)+40) 80% 58%))}
    .group-body{padding:0 18px 18px;display:grid;gap:12px}
    .progress--group{margin:8px 0 14px}
    .progress--item{height:6px;background:rgba(8,14,24,.6);border:1px solid rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin-top:10px}
    .progress--item .bar{background:linear-gradient(90deg,hsl(var(--accent-h) 80% 62%),hsl(calc(var(--accent-h)+35) 78% 58%))}

    .list-item{
      position:relative;background:linear-gradient(150deg,rgba(16,24,38,.9),rgba(9,14,24,.82));
      border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:16px 18px;
      box-shadow:0 12px 28px rgba(6,12,24,.45);transition:.25s ease;
    }
    .list-item:hover{transform:translateY(-2px);box-shadow:0 18px 32px rgba(6,12,24,.55)}
    .list-item__body{display:flex;justify-content:space-between;align-items:flex-start;gap:20px;flex-wrap:wrap}
    .list-item__course{display:grid;gap:6px}
    .list-item__meta{display:flex;gap:8px;flex-wrap:wrap}
    .list-item__meta .pill{text-transform:uppercase}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:rgba(255,255,255,.1);color:#fff;font-size:11px;border:1px solid rgba(255,255,255,.14);letter-spacing:.04em;text-transform:uppercase}
    .list-item__title{font-size:15px;color:#fff;letter-spacing:.01em}
    .list-item__values{display:grid;justify-items:end;gap:4px;text-align:right}
    .list-item__total{font-weight:800;font-size:16px;color:#fff}
    .list-item__split{font-size:12px;color:rgba(226,232,255,.68)}

    .list-item--long .list-item__body{flex-direction:column;align-items:flex-start;gap:12px}
    .list-item--long .list-item__values{justify-items:flex-start;text-align:left;width:100%;gap:6px}
    .list-item--long .list-item__values .list-item__tags{justify-content:flex-start}
    .list-item--long .list-item__title{font-size:14px;line-height:1.45}
    .list-item--long .list-item__split{text-align:left}
    .list-item--long .progress{margin-top:12px}

    /* Light theme Ã¢â‚¬â€œ accordion & items */
    :where(html.theme-light,body.theme-light) .acc details{border:1px solid rgba(148,163,184,.24);background:linear-gradient(150deg,rgba(255,255,255,.95),rgba(242,246,255,.9));box-shadow:0 24px 60px rgba(148,163,184,.28)}
    :where(html.theme-light,body.theme-light) .acc details::before{background:radial-gradient(circle at 20% 20%,hsla(var(--accent-h) 70% 70% /.35),transparent 60%);opacity:.5;filter:blur(70px)}
    :where(html.theme-light,body.theme-light) .acc details .progress{background:rgba(226,232,255,.8);border-color:rgba(148,163,184,.26);box-shadow:inset 0 2px 6px rgba(148,163,184,.2)}
    :where(html.theme-light,body.theme-light) .progress--item{background:rgba(226,232,255,.85);border-color:rgba(148,163,184,.32)}
    :where(html.theme-light,body.theme-light) .progress--item .bar{background:linear-gradient(90deg,hsl(var(--accent-h) 72% 60%),hsl(calc(var(--accent-h)+28) 70% 56%))}
    :where(html.theme-light,body.theme-light) .group-body{padding:0 18px 18px}
    :where(html.theme-light,body.theme-light) .pill{background:rgba(236,240,255,.9);color:var(--l-text);border-color:rgba(148,163,184,.24)}
    :where(html.theme-light,body.theme-light) .list-item{background:linear-gradient(150deg,rgba(255,255,255,.96),rgba(242,246,255,.9));border:1px solid rgba(148,163,184,.22);box-shadow:0 16px 32px rgba(148,163,184,.22)}
    :where(html.theme-light,body.theme-light) .list-item__title,
    :where(html.theme-light,body.theme-light) .list-item__total{color:var(--l-text)}
    :where(html.theme-light,body.theme-light) .list-item__split{color:rgba(71,85,105,.68)}
    :where(html.theme-light,body.theme-light) .acc summary .chips .chip{background:rgba(237,242,255,.92);color:var(--l-text);border-color:rgba(148,163,184,.24)}
    :where(html.theme-light,body.theme-light) .acc summary .chips .chip:nth-child(1){background:linear-gradient(135deg,rgba(63,197,136,.22),rgba(45,157,107,.18));color:#064e3b}
    :where(html.theme-light,body.theme-light) .acc summary .chips .chip:nth-child(2){background:linear-gradient(135deg,rgba(250,204,21,.26),rgba(253,186,116,.2));color:#92400e}
    :where(html.theme-light,body.theme-light) .acc summary .chips .chip:nth-child(3){background:linear-gradient(135deg,rgba(191,219,254,.92),rgba(147,197,253,.75));color:#1e3a8a}

    /* === MODAL (Config) === */
    .modal{
      position:fixed;inset:0;display:grid;place-items:center;padding:24px;
      background:rgba(0,0,0,.48);backdrop-filter:blur(10px);
      z-index:50;opacity:0;visibility:hidden;pointer-events:none;
      transition:opacity .32s ease, visibility 0s linear .32s;
    }
    .modal--open{
      opacity:1;visibility:visible;pointer-events:auto;transition-delay:0s;
    }
    .modal.modal--closing{pointer-events:none;}
    .modal__panel{
      position:relative;width:min(880px,94vw);max-height:90vh;border-radius:24px;border:1px solid var(--stroke-use);
      background:linear-gradient(160deg,rgba(18,24,38,.94),rgba(10,14,24,.85));box-shadow:0 34px 90px rgba(0,0,0,.55);
      display:flex;flex-direction:column;overflow:hidden;
      transform:translateY(28px) scale(.96);opacity:0;
      transition:transform .38s cubic-bezier(.22,.8,.16,1),opacity .34s ease-out;
    }
    .modal__panel::before{
      content:"";position:absolute;inset:-40% -12% auto -26%;height:70%;
      background:radial-gradient(circle,hsla(var(--accent-h) 85% 65% /.36),transparent 58%);filter:blur(70px);opacity:.7;pointer-events:none;
    }
    .modal--open .modal__panel{transform:translateY(0) scale(1);opacity:1;}
    .modal.modal--closing .modal__panel{transform:translateY(24px) scale(.94);opacity:0;}
    .modal__head{display:flex;justify-content:space-between;align-items:center;padding:20px 26px;border-bottom:1px solid var(--stroke-use);backdrop-filter:blur(8px)}
    .modal__body{padding:26px;overflow:auto;flex:1;scrollbar-gutter:stable;background:linear-gradient(180deg,rgba(14,20,32,.78),rgba(8,12,20,.86));display:grid;gap:18px}
    :where(html.theme-light,body.theme-light) .modal{background:rgba(148,163,184,.28)}
    :where(html.theme-light,body.theme-light) .modal__panel{
      background:linear-gradient(150deg,rgba(255,255,255,.96),rgba(240,244,255,.9));
      border:1px solid rgba(148,163,184,.24);box-shadow:0 34px 80px rgba(148,163,184,.22);
    }
    :where(html.theme-light,body.theme-light) .modal__panel::before{
      background:radial-gradient(circle,hsla(var(--accent-h) 75% 65% /.5),transparent 60%);opacity:.55;filter:blur(70px);
    }
    :where(html.theme-light,body.theme-light) .modal__head{border-bottom:1px solid rgba(148,163,184,.24)}
    :where(html.theme-light,body.theme-light) .modal__body{background:linear-gradient(180deg,rgba(255,255,255,.96),rgba(242,246,255,.92))}
    :where(html.theme-light,body.theme-light) .drawer__head .btn:hover,
    :where(html.theme-light,body.theme-light) .modal__head .btn:hover{
      box-shadow:0 16px 32px rgba(148,163,184,.26);
      border-color:rgba(148,163,184,.32);
    }
    :where(html.theme-light,body.theme-light) .drawer__head .btn:active,
    :where(html.theme-light,body.theme-light) .modal__head .btn:active{
      box-shadow:0 10px 22px rgba(148,163,184,.22);
    }

    .config-card{
      background:linear-gradient(160deg,rgba(16,22,34,.78),rgba(10,14,24,.74));
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 24px 48px rgba(0,0,0,.32);
      border-radius:22px;
      padding:20px 24px 24px;
    }
    .config-card h4{margin-bottom:16px;font-size:1rem;font-weight:600;letter-spacing:.02em}
    .config-card__foot{margin-top:4px;opacity:.7}
    :where(html.theme-light,body.theme-light) .config-card{
      background:linear-gradient(160deg,rgba(255,255,255,.92),rgba(246,250,255,.88));
      border:1px solid rgba(148,163,184,.28);
      box-shadow:0 26px 60px rgba(148,163,184,.25);
    }
    :where(html.theme-light,body.theme-light) .config-card__foot{opacity:.8}

    .theme-toggle{
      position:relative;display:inline-flex;align-items:center;gap:6px;
      background:linear-gradient(160deg,rgba(255,255,255,.06),rgba(255,255,255,.01));
      border:1px solid rgba(255,255,255,.14);
      border-radius:999px;padding:6px;
      box-shadow:0 16px 36px rgba(0,0,0,.28);
      isolation:isolate;
    }
    .theme-toggle__indicator{
      position:absolute;top:6px;left:6px;
      width:calc(50% - 6px);height:calc(100% - 12px);border-radius:999px;
      background:linear-gradient(160deg,hsla(var(--accent-h) 85% 62% /.12),rgba(255,255,255,.18));
      box-shadow:0 18px 34px rgba(0,0,0,.26),inset 0 0 0 1px rgba(255,255,255,.12);
      transform:translate3d(0,0,0);
      transition:transform .34s cubic-bezier(.22,.8,.16,1),background .3s ease;
    }
    .theme-toggle[data-active="light"] .theme-toggle__indicator{
      transform:translateX(100%);
      background:linear-gradient(160deg,rgba(255,255,255,.85),rgba(245,249,255,.95));
      box-shadow:0 18px 34px rgba(148,163,184,.2),inset 0 0 0 1px rgba(148,163,184,.25);
    }
    .theme-toggle__option{position:relative;flex:1 1 0;min-width:0}
    .theme-toggle__option input{position:absolute;inset:0;opacity:0;pointer-events:none}
    .theme-toggle__label{
      position:relative;display:flex;align-items:center;justify-content:center;gap:6px;
      padding:10px 18px;font-weight:600;font-size:.92rem;color:rgba(255,255,255,.68);
      transition:color .24s ease,transform .24s ease;
      cursor:pointer;
    }
    .theme-toggle__icon{font-size:.95rem;opacity:.85}
    .theme-toggle__option input:checked + .theme-toggle__label{color:#fff;transform:translateY(-1px);}
    .theme-toggle[data-active="light"] .theme-toggle__option:last-child .theme-toggle__label{color:#111;}
    .theme-toggle[data-active="light"] .theme-toggle__option:last-child input:checked + .theme-toggle__label{color:#000;}
    .theme-toggle__option:first-child input:checked + .theme-toggle__label .theme-toggle__icon{filter:drop-shadow(0 4px 6px rgba(0,0,0,.45))}
    .theme-toggle__option:last-child input:checked + .theme-toggle__label .theme-toggle__icon{filter:drop-shadow(0 4px 8px rgba(255,255,255,.4))}
    :where(html.theme-light,body.theme-light) .theme-toggle{
      background:rgba(248,250,255,.65);
      border:1px solid rgba(148,163,184,.24);
      box-shadow:0 16px 34px rgba(148,163,184,.18);
    }
    :where(html.theme-light,body.theme-light) .theme-toggle__label{color:rgba(20,30,48,.65)}

    .hue{display:grid;gap:14px}
    .hue-picker{
      position:relative;height:20px;border-radius:999px;--pos:50%;--hue:160;
      background:linear-gradient(90deg,#ff3a3a,#ffa63a,#ffe43a,#8bff3a,#3affd7,#3a9eff,#8b3aff,#ff3afb,#ff3a3a);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.18),0 18px 38px rgba(0,0,0,.35);
    }
    .hue-picker::after{
      content:"";position:absolute;inset:-18px -24px;
      background:linear-gradient(180deg,rgba(12,16,24,.65),transparent 36%,transparent 64%,rgba(12,16,24,.65));
      pointer-events:none;mix-blend-mode:screen;
    }
    .hue-picker input[type=range]{
      -webkit-appearance:none;appearance:none;width:100%;height:100%;margin:0;border-radius:inherit;
      background:none;position:absolute;inset:0;cursor:pointer;opacity:0;
    }
    .hue-picker input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:30px;height:30px;border-radius:50%;}
    .hue-picker input[type=range]::-moz-range-thumb{width:30px;height:30px;border-radius:50%;}
    .hue-picker__thumb{
      position:absolute;top:50%;left:var(--pos);transform:translate(-50%,-50%);width:34px;height:34px;border-radius:50%;
      background:hsl(var(--hue) 85% 55%);border:2px solid rgba(255,255,255,.92);
      box-shadow:0 12px 26px rgba(0,0,0,.32);display:flex;align-items:center;justify-content:center;
      transition:transform .18s ease,background .18s ease;
      pointer-events:none;
    }
    .hue-picker__thumb::after{
      content:"";position:absolute;inset:-10px;border-radius:inherit;border:1px solid rgba(255,255,255,.2);opacity:0;transition:opacity .24s ease;
    }
    .hue-picker:hover .hue-picker__thumb::after,
    .hue-picker__thumb:focus-visible::after{opacity:1}
    .hue-picker__value{
      font-size:.7rem;font-weight:600;color:rgba(16,22,30,.85);
      background:rgba(255,255,255,.78);padding:1px 6px;border-radius:999px;box-shadow:0 6px 14px rgba(0,0,0,.25);
    }
    :where(html.theme-light,body.theme-light) .hue-picker{
      box-shadow:inset 0 0 0 1px rgba(148,163,184,.3),0 18px 36px rgba(148,163,184,.22);
    }
    :where(html.theme-light,body.theme-light) .hue-picker__thumb{
      border:2px solid rgba(255,255,255,.9);box-shadow:0 12px 24px rgba(148,163,184,.28);
    }
    :where(html.theme-light,body.theme-light) .hue-picker__value{color:rgba(20,24,32,.82);background:rgba(255,255,255,.92)}

    .hue__swatches{display:flex;flex-wrap:wrap;gap:12px}
    .swatch{
      width:34px;height:34px;border-radius:50%;cursor:pointer;border:2px solid transparent;
      padding:0;appearance:none;display:inline-flex;align-items:center;justify-content:center;
      background:hsl(var(--swatch-h, var(--accent-h)) 85% 55%);
      box-shadow:0 10px 20px rgba(0,0,0,.32),inset 0 0 0 2px rgba(0,0,0,.2);
      transition:transform .24s cubic-bezier(.22,.8,.16,1),box-shadow .24s,border-color .24s;
    }
    .swatch:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 16px 28px rgba(0,0,0,.36);}
    .swatch:active{transform:translateY(-1px) scale(.97);}
    .swatch:focus-visible{outline:2px solid rgba(255,255,255,.8);outline-offset:3px;}
    .swatch--current{
      width:40px;height:40px;border-radius:18px;background:hsl(var(--accent-h) 85% 55%);
      box-shadow:0 18px 32px rgba(0,0,0,.35),inset 0 0 0 2px rgba(255,255,255,.18);
    }
    :where(html.theme-light,body.theme-light) .swatch{
      box-shadow:0 12px 28px rgba(148,163,184,.22),inset 0 0 0 2px rgba(148,163,184,.28);
    }
    :where(html.theme-light,body.theme-light) .swatch--current{
      box-shadow:0 14px 30px rgba(148,163,184,.24),inset 0 0 0 2px rgba(255,255,255,.6);
    }
    /* === DRAWER (um modal com subtelas) === */
    .drawer{position:fixed;inset:0;display:flex;justify-content:flex-end;align-items:stretch;background:rgba(6,11,18,.55);backdrop-filter:blur(18px);opacity:0;pointer-events:none;transition:opacity .32s ease;z-index:60}
    .drawer--open{opacity:1;pointer-events:auto}
    .drawer__panel{
      position:relative;width:min(720px,92vw);margin:24px 20px 24px 0;
      background:linear-gradient(160deg,rgba(255,255,255,.08),rgba(255,255,255,.025));
      border:1px solid rgba(255,255,255,.08);border-radius:28px 0 0 28px;
      box-shadow:-27px 0 72px rgba(0,0,0,.42),0 27px 81px rgba(12,18,26,.58);
      display:flex;flex-direction:column;overflow:hidden;
      transform:translateX(60px);opacity:0;
      transition:transform .45s cubic-bezier(.25,.8,.25,1),opacity .32s ease;
    }
    .drawer--open .drawer__panel{transform:translateX(0);opacity:1}
    .drawer--open.drawer--closing{opacity:0}
    .drawer--open.drawer--closing .drawer__panel{transform:translateX(52px);opacity:0}
    .drawer--closing{pointer-events:none}
    .drawer--closing .drawer__body{animation:none!important}
    .drawer__panel::before{
      content:"";position:absolute;inset:-45% -30% auto -45%;height:58%;border-radius:50%;
      background:radial-gradient(circle,hsla(var(--accent-h) 85% 72% /.35),transparent 60%);filter:blur(35px);opacity:.55;pointer-events:none;
    }
    .drawer__head{display:flex;justify-content:space-between;align-items:center;padding:18px 22px;border-bottom:1px solid rgba(255,255,255,.06);backdrop-filter:blur(12px)}
    .drawer__head .title{font-size:clamp(1.1rem,2vw,1.4rem);word-break:break-word}
    .drawer__head .btn,
    .modal__head .btn{
      min-width:42px;
      justify-content:center;
      transition:
        transform .26s cubic-bezier(.24,.72,.26,1),
        box-shadow .26s ease,
        border-color .28s ease,
        background .28s ease,
        opacity .22s ease;
    }
    .drawer__head .btn:hover,
    .modal__head .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 18px 36px rgba(12,18,30,.48);
      border-color:rgba(255,255,255,.22);
    }
    .drawer__head .btn:active,
    .modal__head .btn:active{
      transform:translateY(0);
      box-shadow:0 12px 26px rgba(12,18,30,.42);
      opacity:.92;
    }
    .drawer__head .btn:focus-visible,
    .modal__head .btn:focus-visible{transform:translateY(-2px)}
    .drawer__body{padding:24px 26px 32px;overflow:auto;display:grid;gap:20px;background:linear-gradient(180deg,rgba(16,22,32,.25),rgba(12,18,27,.05))}
    .drawer__body.drawer-anim-root,
    .drawer__body.drawer-anim-forward,
    .drawer__body.drawer-anim-back{animation-duration:.28s;animation-fill-mode:both}
    .drawer__body.drawer-anim-root{animation-name:drawerFade}
    .drawer__body.drawer-anim-forward{animation-name:drawerForward}
    .drawer__body.drawer-anim-back{animation-name:drawerBack}
    .drawer__body::-webkit-scrollbar{width:10px}
    .drawer__body::-webkit-scrollbar-thumb{background:rgba(148,163,184,.25);border-radius:999px}
    .drawer__body::-webkit-scrollbar-track{background:transparent}
    .drawer--nested .drawer__head{justify-content:flex-start;gap:12px}
    .drawer--nested #drawerClose{display:none!important}
    .drawer__panel .card{background:linear-gradient(145deg,rgba(255,255,255,.09),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);box-shadow:0 18px 45px rgba(12,18,30,.45)}
    .drawer__panel .list{gap:14px}
    .drawer__panel .item{background:linear-gradient(160deg,rgba(255,255,255,.12),rgba(255,255,255,.03));border:1px solid rgba(255,255,255,.09);box-shadow:0 12px 30px rgba(10,15,24,.35)}
    .drawer__panel .chip{background:rgba(255,255,255,.12);color:#fff;border-color:rgba(255,255,255,.15)}
    .drawer__panel .card h4{color:rgba(255,255,255,.82)}
    .drawer__section{margin-bottom:20px}
    .drawer__section-head{display:flex;justify-content:space-between;align-items:flex-end;gap:16px;margin-bottom:12px}
    .drawer__section-head h4{margin:0;font-size:15px;font-weight:700;color:rgba(255,255,255,.85)}
    .micro{display:block;font-size:11px;letter-spacing:.1em;text-transform:uppercase;color:rgba(226,232,255,.58)}
    .drawer__number{font-size:20px;font-weight:800;color:#fff}
    .course-subtitle{margin-top:8px;word-break:break-word;white-space:normal}
    .course-subtitle--long{text-transform:none !important;letter-spacing:0;font-size:10px;line-height:1.45;color:rgba(226,232,255,.72)}
    @media (min-width:768px){.course-subtitle--long{font-size:11px}}
    @keyframes drawerFade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    @keyframes drawerForward{from{opacity:0;transform:translateX(26px)}to{opacity:1;transform:translateX(0)}}
    @keyframes drawerBack{from{opacity:0;transform:translateX(-26px)}to{opacity:1;transform:translateX(0)}}

    /* ENTIDADES Ã¢â‚¬â€œ badges e layout */
    .drawer__list{display:grid;gap:12px}
    .info-line{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-radius:16px;background:linear-gradient(150deg,rgba(21,28,42,.92),rgba(12,18,30,.82));border:1px solid rgba(255,255,255,.08);color:#fff;gap:16px;box-shadow:0 10px 24px rgba(8,14,26,.45);transition:.2s ease}
    .info-line>div{flex:1;min-width:0}
    .info-line:hover{transform:translateY(-2px);box-shadow:0 14px 28px rgba(8,14,26,.55)}
    .info-line strong{font-size:14px;word-break:break-word}
    .info-line span{display:block;color:rgba(226,232,255,.7);font-size:12px;word-break:break-word}
    .info-line__totals{display:flex;gap:8px;align-items:center}
    .info-line .tag{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.12);color:#fff;font-size:12px}
    .info-line .tag--accent{background:linear-gradient(135deg,var(--accent-1),var(--accent-2));color:#fff}
    .info-line .tag--danger{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}
    .info-line.is-danger{background:linear-gradient(150deg,rgba(127,29,29,.85),rgba(88,17,20,.8));border-color:rgba(248,113,113,.35)}

    [data-tip]{position:relative}
    [data-tip]::after{
      content:attr(data-tip);position:absolute;inset:auto auto calc(100% + 12px) 50%;transform:translateX(-50%);
      background:rgba(10,15,24,.92);color:#fff;padding:8px 10px;border-radius:10px;font-size:11px;white-space:pre-line;
      box-shadow:0 10px 28px rgba(8,12,20,.45);opacity:0;pointer-events:none;transition:.2s ease;min-width:140px;
    }
    [data-tip]:hover::after{opacity:1;transform:translate(-50%,-4px)}
    [data-tip]::before{content:"";position:absolute;inset:auto auto calc(100% + 4px) 50%;transform:translateX(-50%);border:6px solid transparent;border-top-color:rgba(10,15,24,.92);opacity:0;transition:.2s ease}
    [data-tip]:hover::before{opacity:1;transform:translate(-50%,0)}

    /* LIGHT Ã¢â‚¬â€œ drawer & entidades */
    :where(html.theme-light,body.theme-light) .drawer{background:rgba(207,217,230,.45)}
    :where(html.theme-light,body.theme-light) .drawer__panel{
      background:linear-gradient(160deg,rgba(255,255,255,.96),rgba(245,248,255,.86));
      border:1px solid rgba(148,163,184,.28);box-shadow:-24px 0 60px rgba(148,163,184,.22),0 24px 70px rgba(148,163,184,.25);
    }
    :where(html.theme-light,body.theme-light) .drawer__panel::before{
      background:radial-gradient(circle,hsla(var(--accent-h) 70% 75% /.4),transparent 60%);filter:blur(60px);opacity:.4
    }
    :where(html.theme-light,body.theme-light) .drawer__body{background:linear-gradient(180deg,rgba(255,255,255,.94),rgba(240,244,255,.84))}
    :where(html.theme-light,body.theme-light) .drawer__body::-webkit-scrollbar-thumb{background:rgba(148,163,184,.45)}
    :where(html.theme-light,body.theme-light) .drawer__panel .card{
      background:linear-gradient(150deg,#ffffff,rgba(244,247,255,.92));border:1px solid rgba(148,163,184,.2);box-shadow:0 16px 36px rgba(148,163,184,.2)
    }
    :where(html.theme-light,body.theme-light) .drawer__panel .item{
      background:linear-gradient(160deg,rgba(255,255,255,.95),rgba(240,244,255,.88));border:1px solid rgba(148,163,184,.25);box-shadow:0 12px 26px rgba(148,163,184,.18)
    }
    :where(html.theme-light,body.theme-light) .drawer__panel .chip{background:rgba(228,235,255,.9);color:var(--l-text);border-color:rgba(148,163,184,.3)}
    :where(html.theme-light,body.theme-light) .drawer__panel .card h4{color:rgba(17,24,39,.6)}
    :where(html.theme-light,body.theme-light) .drawer__head{border-bottom:1px solid rgba(148,163,184,.25)}
    :where(html.theme-light,body.theme-light) .drawer__section-head h4{color:rgba(30,41,59,.85)}
    :where(html.theme-light,body.theme-light) .micro{color:rgba(71,85,105,.55)}
    :where(html.theme-light,body.theme-light) .course-subtitle--long{color:rgba(51,65,85,.72)}
    :where(html.theme-light,body.theme-light) .drawer__number{color:var(--l-text)}
    :where(html.theme-light,body.theme-light) .info-line{background:linear-gradient(150deg,rgba(255,255,255,.96),rgba(243,247,255,.9));border:1px solid rgba(148,163,184,.24);color:var(--l-text)}
    :where(html.theme-light,body.theme-light) .info-line span{color:rgba(71,85,105,.68)}
    :where(html.theme-light,body.theme-light) .info-line .tag{background:rgba(226,232,255,.9);color:var(--l-text)}
    :where(html.theme-light,body.theme-light) .info-line .tag--accent,
    :where(html.theme-light,body.theme-light) .info-line .tag--danger{color:#fff}
    :where(html.theme-light,body.theme-light) .info-line.is-danger{background:linear-gradient(150deg,rgba(254,226,226,.9),rgba(248,215,215,.85));border-color:rgba(248,113,113,.35)}
    :where(html.theme-light,body.theme-light) [data-tip]::after{background:rgba(255,255,255,.96);color:var(--l-text);box-shadow:0 16px 36px rgba(148,163,184,.25)}
    :where(html.theme-light,body.theme-light) [data-tip]::before{border-top-color:rgba(255,255,255,.96)}

    /* === AGENDA 6 MESES Ã¢â‚¬â€œ layout em grade e contraste forte === */
    .forecast{
      display:grid;
      grid-template-columns:repeat(6,minmax(120px,1fr));
      gap:14px;
      align-items:end;
      padding-bottom:6px;
    }
    .forecast__item{
      display:grid;gap:8px;justify-items:center;position:relative;
      padding:10px 8px;border-radius:16px;border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(150deg,rgba(255,255,255,.08),rgba(255,255,255,.02));
      box-shadow:0 10px 26px rgba(8,14,26,.4);color:rgba(226,232,255,.9);font-size:12px;
      cursor:pointer;transition:.2s ease;
    }
    .forecast__item:hover{transform:translateY(-3px);box-shadow:0 16px 30px rgba(8,14,26,.55)}
    .forecast__bar{width:26px;border-radius:14px 14px 6px 6px;background:linear-gradient(180deg,hsl(var(--accent-h) 85% 65%),hsl(calc(var(--accent-h)+40) 70% 45%));box-shadow:0 12px 24px rgba(12,18,28,.45)}
    .forecast__item strong{font-size:13px;color:#fff}
    .forecast__item em{font-style:normal;opacity:.9}

    /* Light Ã¢â‚¬â€œ Agenda 6m com alto contraste */
    :where(html.theme-light,body.theme-light) .forecast__item{
      background:linear-gradient(150deg,#ffffff,#f3f7ff);
      border:1px solid rgba(148,163,184,.24);
      color:var(--l-text);
      box-shadow:0 10px 24px rgba(148,163,184,.18);
    }
    :where(html.theme-light,body.theme-light) .forecast__item strong{color:var(--l-text)}
    :where(html.theme-light,body.theme-light) .forecast__item em{color:rgba(71,85,105,.65)}
    :where(html.theme-light,body.theme-light) .forecast__bar{
      background:linear-gradient(180deg,hsl(var(--accent-h) 80% 60%),hsl(calc(var(--accent-h)+35) 70% 55%))
    }

    /* === BACK TO TOP === */
    .backtop{position:fixed;right:14px;bottom:14px;z-index:40;transform:translateY(20px);opacity:0;pointer-events:none;transition:.2s}
    .backtop--show{transform:translateY(0);opacity:1;pointer-events:auto}

    /* === RESPONSIVO === */
    @media (max-width:1024px){
      .container{padding:32px 24px 56px}
      .hero{grid-template-columns:1fr;justify-items:flex-start;gap:24px}
      .hero__actions{justify-content:flex-start}
      .chips-line{justify-content:flex-start}
    }
    @media (max-width:800px){
      .forecast{grid-template-columns:repeat(3,minmax(120px,1fr))}
    }
    @media (max-width:640px){
      .search{justify-content:flex-start}
      .kpis .card{min-height:auto;padding:18px}
      .filters{position:static}
      .modal{padding:16px}
      .modal__panel{max-height:92vh}
      .hero{padding:28px}
      .hero__art{width:96px;height:96px}
      .hero__btn{flex:1 1 auto;min-width:0}
      .forecast{grid-template-columns:repeat(2,minmax(130px,1fr))}
    }

    /* alinhamentos extras dos controles de busca */
    .filters__search .search{justify-content:space-between}
    .filters__search .btn{min-width:120px;justify-content:center}

    /* reduÃƒÂ§ÃƒÂ£o de movimento */
    @media (prefers-reduced-motion:reduce){
      *{animation-duration:.001ms !important;animation-iteration-count:1 !important;transition-duration:.001ms !important;scroll-behavior:auto !important}
    }

    /* segmented (pÃƒÂ­lula deslizante) Ã¢â‚¬â€œ usado em algumas UIs */
    .segmented{
      --seg-x:0px;--seg-w:0px;position:relative;display:flex;gap:8px;align-items:center;
      padding:6px;border-radius:999px;background:var(--chip-use);border:1px solid var(--stroke-use);overflow:auto
    }
    .segmented::before{
      content:"";position:absolute;left:6px;top:6px;height:calc(100% - 12px);width:var(--seg-w);transform:translateX(var(--seg-x));
      background:linear-gradient(135deg,hsl(var(--accent-h) 85% 60%),hsl(calc(var(--accent-h)+20) 80% 54%));
      border-radius:999px;transition:transform .28s cubic-bezier(.22,.8,.2,1),width .28s;box-shadow:0 8px 20px hsla(var(--accent-h) 70% 45% /.35)
    }
    .segmented .chip--toggle{background:transparent;border-color:transparent;color:var(--muted-use);position:relative;z-index:1}
    :where(html.theme-light,body.theme-light) 
      .filters__group.filters__group--inline .filters__label{
      color: rgba(51,65,85,.65);
    }

    /* Congela o fundo: sem drift/orbit/noise */

    /* Garantir que fique travado na viewport e atrÃƒÂ¡s de tudo */

    /* Variante mais limpa, sem a camada extra (::after) */


    /* HOTFIX: variaÃƒÂ§ÃƒÂµes light do fundo quando .bgfx estÃƒÂ¡ no prÃƒÂ³prio body */






    /* forÃ¯Â¿Â½ar as duas camadas acima do background do body */
    body.bgfx::before,
    body.bgfx::after{
      z-index:0 !important;
      opacity:1 !important;
      position:fixed !important;
      inset:-30vmax !important;
    }
    /* ===== Alinhar Filtros (Status / MÃƒÂªs / Busca) ===== */
    .filters.filters--list{
      display: grid;
      grid-template-columns: 260px 1fr 430px; /* Status | MÃƒÂªs | Busca */
      column-gap: 24px;
      align-items: start;         /* TOP alinhado em todos os grupos */
    }

    .filters.filters--list .filters__group{
      margin: 0;
    }

    .filters.filters--list .filters__label{
      display: block;
      margin: 0 0 8px;
      line-height: 1.1;
    }

    .filters.filters--list .chips-line{
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: flex-start;     /* impede Ã¢â‚¬Å“centralizaÃƒÂ§ÃƒÂ£oÃ¢â‚¬Â vertical estranha */
    }

    .filters.filters--list .filters__search{
      align-self: start;           /* mantÃƒÂ©m o bloco da busca no topo */
    }

    .filters.filters--list .search{
      display: flex;
      gap: 10px;
      align-items: center;
      margin: 0;                   /* zera possÃƒÂ­veis deslocamentos */
    }

    /* responsivo: empilha no mobile */
    @media (max-width: 980px){
      .filters.filters--list{
        grid-template-columns: 1fr;
        row-gap: 16px;
      }
    }


    /* Tema claro Ã¢â‚¬â€ mantÃƒÂ©m o mesmo hover (lift) e o mesmo ativo preenchido */
    :where(html.theme-light,body.theme-light) .chip--toggle{
      background:linear-gradient(150deg,#ffffff,rgba(245,248,255,.9));
      border-color:rgba(148,163,184,.28);
      color:#0f172a;
      box-shadow:0 12px 30px rgba(148,163,184,.22);
    }
    :where(html.theme-light,body.theme-light) .chip--toggle:hover{
      box-shadow:0 16px 34px rgba(148,163,184,.26);
    }
    :where(html.theme-light,body.theme-light) .chip--toggle.is-active{
      background:linear-gradient(135deg,hsl(var(--accent-h) 82% 58%),hsl(calc(var(--accent-h)+18) 78% 52%));
      color:#0f172a;
      border-color:transparent;
      box-shadow:0 16px 36px hsla(var(--accent-h) 68% 48% /.4), 0 0 0 2px hsla(var(--accent-h) 82% 50% /.24) inset;
    }

    /* camada animada abaixo do conteÃƒÂºdo */
    body.bgfx{
      position: relative;
      overflow-x: hidden;
    }
    body.bgfx::before,
    body.bgfx::after{
      content:"";
      position: fixed;
      inset: -24vmax;
      pointer-events: none;
      z-index: 0;            /* abaixo do conteÃƒÂºdo */
      filter: blur(53px) saturate(120%);
      transform: translateZ(0);
    }

    /* === HERO Ã¢â‚¬â€œ avatar dentro do retÃƒÂ¢ngulo === */
    :root{
      /* ajuste de tamanho do quadrado (pode subir pra 140/150 se quiser) */
      --hero-size: 124px;
      --hero-radius: 26px;
    }

    /* coluna da esquerda do hero */
    .hero__art{
      position: relative;
      width: var(--hero-size);
      height: var(--hero-size);
      border-radius: var(--hero-radius);
      overflow: hidden;        /* garante que nada Ã¢â‚¬Å“vazeÃ¢â‚¬Â do retÃƒÂ¢ngulo */
      isolation: isolate;
    }

    /* o Ã¢â‚¬Å“quadrado de luzÃ¢â‚¬Â vira o fundo do retÃƒÂ¢ngulo */
    .hero__orb{
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background:
        radial-gradient(160% 160% at 20% -20%, var(--accent-3), transparent 60%),
        var(--accent-2);
      /* brilho mais forte */
      box-shadow:
        0 0 1px 1px rgba(255,255,255,.05) inset,
        0 22px 55px hsla(var(--accent-h) 80% 55% /.65),
        0 0 52px 18px hsla(calc(var(--accent-h) + 80) 70% 55% /.45);
      filter: saturate(1.15);
    }

    /* a foto fica DENTRO do quadrado, com margem interna */
    .hero__avatar{
      position: absolute;
      inset: 8px;                              /* margem interna igual em todos os lados */
      width: calc(100% - 16px);
      height: calc(100% - 16px);
      object-fit: cover;                        /* preenche sem distorcer */
      object-position: 38% 18%;                 /* Ã¢â‚¬Å“focaÃ¢â‚¬Â mais no rosto; ajuste fino aqui */
      border-radius: inherit;
      box-shadow:
        0 10px 28px rgba(0,0,0,.45),
        0 0 0 1px rgba(255,255,255,.06) inset;
      z-index: 1;
    }

    /* halo externo (glow suave) */
    .hero__halo{
      position: absolute;
      inset: -20%;
      border-radius: inherit;
      background: radial-gradient(60% 60% at 50% 50%,
                  hsla(var(--accent-h) 80% 62% /.55), transparent 70%);
      filter: blur(19px);
      opacity: .95;
      pointer-events: none;
      z-index: 0;
    }

    /* se ainda tiver o texto Ã¢â‚¬Å“JMLÃ¢â‚¬Â, some com ele */
    .hero__initials{ display:none !important; }

    /* opcional: um pouco maior no mobile tambÃƒÂ©m */
    @media (max-width:640px){
      :root{ --hero-size: 110px; --hero-radius: 22px; }
    }
    /* =========================================================
      LIGHT Ã¢â‚¬â€œ AURORA com variÃƒÂ¡veis (pÃƒÂ¡gina, painÃƒÂ©is e itens)
      Ajuste sÃƒÂ³ os valores abaixo conforme seu gosto.
    ========================================================= */

    /* 1) Hues de aurora (reaproveitam seu --accent-h) */
    :root{
      --aurora-h1: var(--accent-h);           /* verde/teal base     */
      --aurora-h2: calc(var(--accent-h) + 70);/* roxo/azul complementar */

      /* Intensidades padrÃƒÂ£o (tema escuro jÃƒÂ¡ estÃƒÂ¡ ok) */
      --aurora-page-a: .18;   /* cantos da pÃƒÂ¡gina */
      --aurora-page-b: .16;
      --aurora-panel:  .12;   /* brilho nos cards/modais/listas */
      --aurora-item:   .10;   /* brilho em itens de lista */
    }

    /* 2) Tema LIGHT Ã¢â‚¬â€œ Ã¢â‚¬Å“fortinhoÃ¢â‚¬Â como no dark */
    :where(html.theme-light,body.theme-light){
      --aurora-page-a: .30;
      --aurora-page-b: .26;
      --aurora-panel:  .20;
      --aurora-item:   .16;
    }

    /* 3) PÃƒÂ¡gina (cantos superiores) Ã¢â‚¬â€ overlay independente do bg atual */
    :where(html.theme-light,body.theme-light)::before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0; /* fica atrÃƒÂ¡s do conteÃƒÂºdo */
      background:
        radial-gradient(60% 60% at 0% 0%,
          hsl(var(--aurora-h1) 92% 68% / var(--aurora-page-a)), transparent 60%),
        radial-gradient(60% 60% at 100% 0%,
          hsl(var(--aurora-h2) 88% 70% / var(--aurora-page-b)), transparent 62%);
      filter: saturate(1.15) blur(0.2px);
    }

    /* 4) PainÃƒÂ©is (cards/kpis/filters/modais/drawer) Ã¢â‚¬â€ acrescenta glow sem trocar seu bg */
    :where(html.theme-light,body.theme-light) .card,
    :where(html.theme-light,body.theme-light) .kpis .card,
    :where(html.theme-light,body.theme-light) .filters,
    :where(html.theme-light,body.theme-light) .acc details,
    :where(html.theme-light,body.theme-light) .list-item,
    :where(html.theme-light,body.theme-light) .item,
    :where(html.theme-light,body.theme-light) .config-card,
    :where(html.theme-light,body.theme-light) .modal__panel,
    :where(html.theme-light,body.theme-light) .drawer__panel{
      background:
        radial-gradient(140% 120% at 0% 0%,
          hsl(var(--aurora-h1) 86% 72% / var(--aurora-panel)), transparent 64%),
        radial-gradient(140% 120% at 100% 0%,
          hsl(var(--aurora-h2) 82% 70% / calc(var(--aurora-panel) - .03)), transparent 66%),
        /* mantÃƒÂ©m seu fundo existente logo abaixo */
        var(--card-use);
      background-blend-mode: normal;
      /* reforÃƒÂ§o suave de relevo para Ã¢â‚¬Å“sentirÃ¢â‚¬Â como o dark */
      box-shadow:
        0 1px 0 rgba(148,163,184,.16) inset,
        0 10px 30px rgba(148,163,184,.18);
    }

    /* 5) Itens dentro de listas / accordion Ã¢â‚¬â€œ brilho mais sutil */
    :where(html.theme-light,body.theme-light) .list .item,
    :where(html.theme-light,body.theme-light) .acc .list-item{
      background:
        radial-gradient(120% 110% at 0% 0%,
          hsl(var(--aurora-h1) 88% 74% / var(--aurora-item)), transparent 62%),
        radial-gradient(120% 110% at 100% 0%,
          hsl(var(--aurora-h2) 84% 72% / calc(var(--aurora-item) - .02)), transparent 64%),
        linear-gradient(180deg,var(--card-use),var(--bg-soft-use));
    }

    /* 6) Hero no LIGHT (sÃƒÂ³ casa a saturaÃƒÂ§ÃƒÂ£o com o resto) Ã¢â‚¬â€œ opcional */
    :where(html.theme-light,body.theme-light) .hero::before{
      filter: saturate(1.35) contrast(1.02);
    }

    /* HOTFIX Julieta: garante tamanho e recorte iguais em prod */
    :root{
      --hero-size: 132px;   /* ajuste aqui se quiser maior/menor */
      --hero-radius: 26px;
    }

    .hero__art{
      width: var(--hero-size) !important;
      height: var(--hero-size) !important;
      border-radius: var(--hero-radius) !important;
      overflow: hidden !important;
      isolation: isolate;
    }

    .hero__avatar{
      position: absolute;
      inset: 8px;                 /* margem interna */
      width: calc(100% - 16px);
      height: calc(100% - 16px);
      object-fit: cover;
      object-position: 45% 18%;
      border-radius: inherit;
      display: block;
    }

    /* === LISTAGEM JULIANO === */
    .list{
      margin-top: 32px;
      margin-bottom: 80px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 18px;
    }

    .list .empty,
    .card.empty{
      text-align: center;
      padding: 32px;
      color: var(--muted-use);
      background: var(--card-use);
      border-radius: var(--r16);
      border: 1px solid rgba(255,255,255,.04);
    }

    .origin-card{
      position: relative;
      padding: 24px;
      border-radius: var(--r16);
      background: var(--card-use);
      border: 1px solid rgba(255,255,255,.05);
      box-shadow: 0 20px 40px rgba(6,14,32,.35);
      cursor: pointer;
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
    }

    .origin-card:hover{
      transform: translateY(-4px);
      box-shadow: 0 28px 60px rgba(8,16,34,.45);
      border-color: hsla(var(--accent-h) 84% 62% /.55);
    }

    .origin-card__head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:18px;
    }

    .origin-card__head h3{
      margin:0;
      font-size:1.1rem;
      text-transform:none;
      letter-spacing:.01em;
    }

    .origin-card__value{
      font-size:1.8rem;
      font-weight:700;
      letter-spacing:.01em;
    }

    .origin-card__meta{
      margin-top:12px;
      font-size:.84rem;
      color:var(--muted-use);
    }

    .origin-card,
    .kpi.card{
      will-change: transform;
    }

    .kpi.card header .micro{
      letter-spacing:0.02em;
    }

    :where(html.theme-light,body.theme-light) .kpi.card header .micro{
      opacity:.78;
    }

    .drawer__number{
      font-size:1.3rem;
      font-weight:600;
      margin-top:8px;
    }

    .badge--positive{
      background:hsla(var(--accent-h) 72% 48% /.22);
      color:hsla(var(--accent-h) 90% 72% / .95);
    }

  .badge--negative{
    background:hsla(2 74% 46% /.20);
    color:hsla(4 80% 64% / .95);
  }

  :where(html.theme-light,body.theme-light) .drawer__panel{
    border-color:rgba(148,163,184,.20);
    box-shadow:-24px 0 66px rgba(15,23,42,.28),0 24px 72px rgba(71,85,105,.25);
  }
  /* === Overrides Juliano === */
  .kpis{
    display:grid;
    gap:22px;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    margin:32px 0;
  }

  .filters{
    display:grid;
    gap:18px;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    padding:26px;
  }

  .filters__group{
    display:flex;
    flex-direction:column;
    gap:10px;
  }

  .filters__search input{
    padding:10px 14px;
    border-radius: var(--r12);
    border:1px solid var(--stroke-use);
    background:var(--bg-soft-use);
    color:var(--text-use);
  }

  .list{
    margin:32px 0 96px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:24px;
  }

  .card.empty{
    padding:34px;
    text-align:center;
    color:var(--muted-use);
    border:1px dashed var(--stroke-use);
  }

  .card.kpi{
    padding:26px 28px;
  }

  .origin-card{
    padding:26px;
    transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  }

  .origin-card:hover{
    transform:translateY(-4px);
    box-shadow:0 28px 54px rgba(8,16,34,.45);
    border-color:hsla(var(--accent-h) 82% 64% /.55);
  }

  .badge--positive{
    background:hsla(var(--accent-h) 72% 42% /.22);
    color:hsla(var(--accent-h) 90% 72% /.92);
  }

  .badge--negative{
    background:hsla(3 76% 54% /.22);
    color:hsla(3 84% 64% /.95);
  }

  :where(html.theme-light,body.theme-light) .badge{
    color:var(--l-text);
    border-color:rgba(71,85,105,.22);
  }

  :where(html.theme-light,body.theme-light) .badge--positive{
    background:hsla(var(--accent-h) 82% 70% /.28);
    color:hsl(var(--accent-h) 65% 32%);
  }

  :where(html.theme-light,body.theme-light) .badge--negative{
    background:hsla(3 82% 76% /.32);
    color:hsl(3 58% 32%);
  }

  .drawer__panel{
    max-height:90vh;
    overflow-y:auto;
    scrollbar-gutter:stable;
  }

  .visually-hidden{
    position:absolute !important;
    width:1px !important;
    height:1px !important;
    padding:0 !important;
    margin:-1px !important;
    overflow:hidden !important;
    clip:rect(0 0 0 0) !important;
    white-space:nowrap !important;
    border:0 !important;
  }

  .toast{
    position:fixed;
    top:16px;
    left:50%;
    transform:translateX(-50%);
    padding:12px 18px;
    border-radius:var(--r12);
    background:rgba(12,18,30,.92);
    color:#fff;
    box-shadow:0 18px 40px rgba(8,12,24,.4);
    z-index:2000;
    transition:opacity .25s ease;
  }

  body.theme-light .toast{
    background:rgba(255,255,255,.95);
    color:#111827;
    border:1px solid rgba(148,163,184,.35);
  }

  .toast--error{
    background:rgba(220, 38, 38, .92);
  }

  body.theme-light .toast--error{
    background:rgba(248,113,113,.95);
    color:#7f1d1d;
  }

  @media (max-width:640px){
    .kpis{
      grid-template-columns:1fr;
    }
    .filters{
      grid-template-columns:1fr;
      padding:22px;
    }
    .list{
      grid-template-columns:1fr;
    }
  }
  /* overrides finais pro hero compacto */
  .hero.hero--compact{
    grid-template-columns: 1fr !important;
    padding: 12px 16px !important;
    background: var(--card-use) !important;
    box-shadow: 0 18px 40px rgba(0,0,0,.35) !important;
    border: 1px solid var(--stroke-use);
  }
  .hero.hero--compact .hero__art,
  .hero.hero--compact .hero__text{ display: none !important; }
  .hero.hero--compact .hero__actions{ justify-content: flex-end; gap: 10px; }
  @media (max-width: 1024px){
    .hero.hero--compact .hero__actions{ justify-content: flex-start; }
  }



  /* mobile */
  @media (max-width: 640px){
    .banner{
  aspect-ratio:21/5;
      min-height:120px;
      background-position: var(--banner-x-m) var(--banner-y-m);
    }
    .banner.banner--tall{
      aspect-ratio: 21 / 5.2;
      min-height: 140px;
    }
  }

  /* === PATCH: botão de config + banner menor === */
  .banner{
    aspect-ratio: 21/5.8;    /* um pouco mais “raso” */
    min-height: 128px;
  }
  @media (max-width:640px){
    .banner{ aspect-ratio:21/6.2; min-height: 110px; }
  }

  /* leva o grupo de ações pro canto inferior direito do banner */
  .banner__tools{
    position:absolute;
    top:auto;                 /* sai do topo */
    right:12px;
    bottom:12px;              /* vai pro canto de baixo */
    left:auto;
    display:flex; gap:8px; z-index:2;
  }

  /* botão vidro/gradiente que casa com as artes dos 2 temas */
  .banner__config{
    display:inline-flex; align-items:center; gap:8px;
    padding:8px 14px; border-radius:999px;
    font-weight:700; letter-spacing:.02em;
    background:
      linear-gradient(150deg, rgba(255,255,255,.14), rgba(255,255,255,.05));
    border:1px solid rgba(255,255,255,.18);
    box-shadow:0 12px 28px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
    backdrop-filter: blur(8px);
    color:#fff;
  }
  .banner__config::before{
    content:"⚙";
    font-size:14px; opacity:.9;
  }

  /* estados */
  .banner__config:hover{
    transform:translateY(-2px);
    box-shadow:0 18px 38px rgba(0,0,0,.45);
    border-color:rgba(255,255,255,.26);
  }
  .banner__config:active{ transform:translateY(0); opacity:.95; }

  /* tema claro harmonizado */
  :where(html.theme-light,body.theme-light) .banner__config{
    background: linear-gradient(150deg, rgba(255,255,255,.9), rgba(245,248,255,.86));
    color: var(--l-text);
    border-color: rgba(148,163,184,.26);
    box-shadow:0 14px 28px rgba(148,163,184,.22), inset 0 0 0 1px rgba(255,255,255,.6);
  }

  /* === PATCH: filtros mais organizados + estado selecionado diferentão === */

  /* usa o layout de filtros em grade bonitinho */
  .filters{ grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); }
  .filters .micro{ font-size:10px; letter-spacing:.14em; }

  /* hover e ativo nos chips (aplica também quando usamos aria-pressed) */
  .filters .chip:hover{
    transform: translateY(-3px);
    box-shadow: 0 16px 34px rgba(8,12,24,.45);
  }
  .filters .chip[aria-pressed="true"],
  .filters .chip.chip--active{
    position:relative;
    padding-left:22px;
    background:linear-gradient(135deg,hsl(var(--accent-h) 85% 60%),hsl(calc(var(--accent-h)+20) 82% 54%));
    color:#fff; border-color:transparent;
    box-shadow:0 18px 36px hsla(var(--accent-h) 70% 45% /.45);
  }
  .filters .chip[aria-pressed="true"]::before,
  .filters .chip.chip--active::before{
    content:""; position:absolute; left:10px; top:50%;
    width:8px; height:8px; border-radius:999px; background:#fff;
    transform:translateY(-50%); box-shadow:0 0 0 2px rgba(0,0,0,.08);
  }

  /* light mantém o mesmo “brilho” */
  :where(html.theme-light,body.theme-light) .filters .chip[aria-pressed="true"],
  :where(html.theme-light,body.theme-light) .filters .chip.chip--active{
    color:#0f172a;
    background:linear-gradient(135deg,hsl(var(--accent-h) 82% 58%),hsl(calc(var(--accent-h)+18) 78% 52%));
    box-shadow:0 16px 36px hsla(var(--accent-h) 68% 48% /.4), 0 0 0 2px hsla(var(--accent-h) 82% 50% /.24) inset;
  }
  /* === PATCH: cards da lista mais compactos e elegantes === */
  .list{ gap:16px; }
  .origin-card{ padding:18px 20px; border-radius:16px; }
  .origin-card__head{ margin-bottom:10px; }
  .origin-card__head h3{ font-size:1rem; font-weight:800; }
  .origin-card__value{ font-size:1.45rem; font-weight:800; }
  .origin-card__meta{ margin-top:6px; font-size:.78rem; opacity:.9; }
  /* === Banner SEM CORTE e ~85% da altura original === */
  /* Mantém a arte completa (sem crop) */
  .banner--contain{
    background-size: contain !important;
    background-position: center center !important;
    background-repeat: no-repeat !important;
    background-color: var(--bg-soft-use);
  }

  /* Deixa o container ~15% mais baixo que o 21:5 original.
    21:5  -> ratio 4.2
    85%   -> ratio ~4.94  => 21 / 4.25  */
  .banner.banner--short{
    aspect-ratio: 21 / 4.25 !important;  /* menos alto */
    min-height: 115px !important;
  }

  /* Mobile: um tico mais raso pra caber melhor */
  @media (max-width:640px){
    .banner.banner--short{
      aspect-ratio: 21 / 4.4 !important;
      min-height: 96px !important;
    }
  }
  /* === BANNER (cover + ~85% da altura, sem bordas vazias) === */

  /* Ponto focal padrão (ajuste fino só mexendo nas variáveis) */
  :root{
    --banner-x: 52%;
    --banner-y: 50%;
    --banner-x-m: 50%;
    --banner-y-m: 44%;
  }

  /* cobre sempre o container */
  .banner{
    background-size: cover !important;
    background-position: var(--banner-x) var(--banner-y) !important;
    background-repeat: no-repeat !important;
  }

  /* banner ~15% mais baixo que o 21:5 (≈85% da altura) */
  .banner.banner--short{
    aspect-ratio: 21 / 4.94 !important; /* 4.2 / 0.85 */
    min-height: 120px !important;
  }

  /* mobile: um pouco mais “raso” e com foco vertical ajustado */
  @media (max-width:640px){
    .banner{
      background-position: var(--banner-x-m) var(--banner-y-m) !important;
    }
    .banner.banner--short{
      aspect-ratio: 21 / 5.6 !important;
      min-height: 100px !important;
    }
  }

  /* se tiver algum patch antigo alterando .banner (21/5.8, contain etc.),
    isto aqui vence por usar seletores mais específicos e !important */


    /* === PRÓ-LABORE TRACKER (mapa + calendário) ==================== */
  .info-line[role="button"]{ cursor:pointer; }

  .pltrack{ display:grid; gap:18px; }

  /* Resumo com 4 colunas compactas */
  .plsummary{
    display:grid; gap:12px; grid-template-columns:repeat(4,minmax(120px,1fr));
  }
  .plsummary>div{
    background:linear-gradient(150deg,rgba(255,255,255,.10),rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.10);
    border-radius:14px; padding:12px 14px;
  }
  :where(html.theme-light,body.theme-light) .plsummary>div{
    background:linear-gradient(150deg,#fff,#f6f9ff);
    border-color:rgba(148,163,184,.22);
  }
  .plsummary strong{ display:block; font-size:1.05rem; }

  /* Progresso do mês */
  .plprogress{ height:10px; border:1px solid var(--stroke-use); background:var(--bg-soft-use);
    border-radius:999px; overflow:hidden; }
  .plprogress__bar{ height:100%; background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); width:0; }
  .plprogress__labels{ display:flex; justify-content:space-between; font-size:.82rem; color:var(--muted-use); }

  /* Mapa de meses */
  .plmap{
    display:grid; gap:10px;
    grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  }
  .plmonth{
    padding:12px; border-radius:14px;
    background:linear-gradient(150deg,rgba(255,255,255,.10),rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.10);
    display:grid; gap:6px; justify-items:start;
  }
  .plmonth__label{ font-weight:700; font-size:.92rem; }
  .plmonth__amt{ font-size:.86rem; color:var(--muted-use); }

  .plmonth.is-covered{
    background:linear-gradient(150deg,hsl(var(--accent-h) 82% 36% /.45),hsl(var(--accent-h) 70% 22% /.25));
    border-color:hsl(var(--accent-h) 70% 36% / .45);
  }
  .plmonth.is-current{
    box-shadow:0 0 0 2px hsl(var(--accent-h) 80% 58% / .55) inset, 0 8px 30px rgba(0,0,0,.35);
  }
  .plmonth.is-past{ opacity:.70; }

  :where(html.theme-light,body.theme-light) .plmonth{
    background:linear-gradient(150deg,#ffffff,#f3f7ff);
    border-color:rgba(148,163,184,.22);
  }
  :where(html.theme-light,body.theme-light) .plmonth.is-covered{
    background:linear-gradient(150deg,hsl(var(--accent-h) 90% 85% /.65),#fff);
    border-color:rgba(148,163,184,.28);
  }

  /* Calendário do mês */
  .plcal{ display:grid; gap:8px; }
  .plcal__head{
    display:grid; grid-template-columns:repeat(7,1fr); font-size:.78rem; color:var(--muted-use);
  }
  .plcal__grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:6px; }
  .plcal__day{
    min-height:64px; padding:8px; border-radius:12px;
    background:linear-gradient(150deg,rgba(255,255,255,.08),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.08);
    display:grid; grid-template-rows:auto 1fr; align-items:start;
  }
  .plcal__day--off{ opacity:.35; }
  .plcal__num{ font-size:.86rem; font-weight:700; }
  .plcal__amt{
    place-self:end; justify-self:end; margin-top:auto;
    font-size:.78rem; padding:3px 6px; border-radius:999px;
    background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.14);
  }
  .plcal__day--hit{ box-shadow:0 0 0 2px hsl(var(--accent-h) 80% 55% /.45) inset; }

  :where(html.theme-light,body.theme-light) .plcal__day{
    background:linear-gradient(150deg,#ffffff,#f6f9ff);
    border-color:rgba(148,163,184,.22);
  }
  :where(html.theme-light,body.theme-light) .plcal__amt{
    background:rgba(236,240,255,.92); color:var(--l-text); border-color:rgba(148,163,184,.26);
  }

  /* Legenda */
  .pllegend{ display:flex; gap:10px; flex-wrap:wrap; font-size:.8rem; color:var(--muted-use); }
  .pllegend span{ display:inline-flex; align-items:center; gap:6px; }
  .pllegend i{ width:12px; height:12px; border-radius:4px; display:inline-block; }
  .pllegend .i-covered{ background:hsl(var(--accent-h) 70% 44%); }
  .pllegend .i-current{ background:transparent; border:2px solid hsl(var(--accent-h) 80% 55%); }
  .pllegend .i-past{ background:#475569; }
  .pllegend .i-next{ background:#1f2937; }
  :where(html.theme-light,body.theme-light) .pllegend .i-past{ background:#cbd5e1; }
  :where(html.theme-light,body.theme-light) .pllegend .i-next{ background:#e5e7eb; }

  /* Responsivo */
  @media (max-width: 860px){
    .plsummary{ grid-template-columns:repeat(2,minmax(120px,1fr)); }
  }
  /* Modal do Mapa do Pró-labore acima do drawer */
  .modal[data-modal="pl-tracker"] {
    z-index: 80; /* drawer está em 60 */
  }


  /* itens clicáveis */
  .origin-card,
  .drawer .info-line.js-origin,
  .drawer .info-line.js-plmap,
  .kpi.kpi--click { cursor: pointer; }

  /* (garante o mapa do PL acima do drawer) */
  .modal[data-modal="pl-tracker"]{ z-index: 80; }


  /* Banner: sem raio no topo, altura ~85%, mais colado no topo */
  .page >{
    border-radius: 0 0 24px 24px !important;
    margin: 2px 0 18px !important;                /* “sobe” o banner */
    background-size: cover !important;
    background-position: var(--banner-x) var(--banner-y) !important;
    background-repeat: no-repeat !important;
    aspect-ratio: 30 / 7 !important;            /* ~85% da altura (era ≈21/4.8~5) */
    min-height: 108px !important;
  }
  @media (max-width:640px){
    .page > .banner{
      aspect-ratio: 21 / 6.1 !important;
      min-height: 92px !important;
    }
  }

  .theme-toggle{ position:relative; }
  .theme-toggle__indicator{ z-index: 0; }               /* vai pra trás */
  .theme-toggle__option{ position:relative; z-index:1; }/* texto fica acima */
  .theme-toggle__label{ position:relative; z-index:1; }


/* troca automática pelo tema */
:where(html.theme-light,body.theme-light){
  --banner-use: var(--banner-light);
}

:where(html.theme-light,body.theme-light) .banner{
  background-image: var(--banner-light), var(--banner-dark) !important;
}

/* ===== Filter Bar compacta (sticky) ===== */
.filter-bar{
  position: sticky; top: 8px; z-index: 30;
  display: grid; grid-template-columns: 1fr auto;
  gap: 10px; align-items: center;
  padding: 10px 12px;
  border-radius: 14px;
  background: linear-gradient(160deg, var(--card-use), var(--bg-soft-use));
  border: 1px solid var(--stroke-use);
  box-shadow: 0 18px 40px rgba(0,0,0,.28);
}

/* trilho de chips com fade nas bordas */
.filter-rail{
  display:flex; gap:8px; overflow-x:auto; padding:2px;
  scrollbar-width:none; -ms-overflow-style:none;
  mask-image: linear-gradient(90deg, transparent 0, #000 16px, #000 calc(100% - 16px), transparent 100%);
}
.filter-rail::-webkit-scrollbar{ display:none; }

.filter-chip{
  padding:6px 12px; border-radius:999px; font-weight:600;
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(145deg,rgba(255,255,255,.10),rgba(255,255,255,.03));
  color:var(--muted-use); cursor:pointer; white-space:nowrap;
  transition:transform .2s, box-shadow .2s, background .2s, border-color .2s;
}
.filter-chip:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(8,12,24,.35); }
.filter-chip[aria-pressed="true"]{
  position:relative; padding-left:22px;
  background:linear-gradient(135deg,hsl(var(--accent-h) 85% 60%),hsl(calc(var(--accent-h)+20) 82% 54%));
  color:#fff; border-color:transparent;
  box-shadow:0 16px 32px hsla(var(--accent-h) 70% 45% /.35);
}
.filter-chip[aria-pressed="true"]::before{
  content:""; position:absolute; left:10px; top:50%; width:8px; height:8px; border-radius:999px; background:#fff; transform:translateY(-50%);
}

/* busca à direita */
.filter-search{
  display:flex; gap:8px; align-items:center;
}
.filter-search input{
  min-width:240px; height:34px; padding:6px 10px; border-radius:10px;
  background:var(--bg-soft-use); border:1px solid var(--stroke-use); color:var(--text-use);
}

/* linha de “filtros ativos” */
.filter-active{
  grid-column: 1 / -1; display:flex; gap:8px; flex-wrap:wrap;
  font-size:12px; color:var(--muted-use);
}
.filter-tag{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px;
  background:rgba(255,255,255,.06); border:1px solid var(--stroke-use);
}
.filter-tag button{
  appearance:none; border:0; background:transparent; cursor:pointer; font-weight:800; color:inherit;
}

/* Light tweaks */
:where(html.theme-light,body.theme-light) .filter-bar{
  background:linear-gradient(180deg,#ffffff,#f6f9ff);
  border-color:rgba(148,163,184,.22);
  box-shadow:0 22px 48px rgba(148,163,184,.18);
}
:where(html.theme-light,body.theme-light) .filter-chip{
  background:linear-gradient(150deg,#ffffff,rgba(245,248,255,.90));
  border-color:rgba(148,163,184,.26);
  color:#0f172a; box-shadow:0 10px 20px rgba(148,163,184,.14);
}
:where(html.theme-light,body.theme-light) .filter-chip[aria-pressed="true"]{
  color:#0f172a;
  background:linear-gradient(135deg,hsl(var(--accent-h) 82% 58%),hsl(calc(var(--accent-h)+18) 78% 52%));
  box-shadow:0 14px 28px hsla(var(--accent-h) 68% 48% /.28), 0 0 0 2px hsla(var(--accent-h) 82% 50% /.22) inset;
}
/* Modal acima do drawer */
.modal { z-index: 80; }
.drawer { z-index: 60; }
/* ===== Glass + Aurora + Chips com check ===== */

:root{
  --glass-bg: rgba(255,255,255,.55);
  --glass-bg-dark: rgba(255,255,255,.06);
  --glass-brd: rgba(255,255,255,.2);
  --chip-brd: rgba(16,185,129,.4);
  --chip-bg: rgba(16,185,129,.12);
  --chip-glow: rgba(110,231,183,.25);
  --text-900: #0f172a; /* slate-900 */
  --text-200: #e2e8f0; /* slate-200 */
}

/* aurora de fundo opcional (aplique em um wrapper .filters-aurora) */
.filters-aurora{
  position: relative;
  isolation: isolate;
}
.filters-aurora::before,
.filters-aurora::after{
  content:"";
  position:absolute; inset:auto;
  filter: blur(48px);
  z-index:-1;
}
.filters-aurora::before{
  top:-40px; left:-48px; width:280px; height:280px;
  background: radial-gradient(closest-side, rgba(16,185,129,.35), transparent 65%);
}
.filters-aurora::after{
  right:-40px; bottom:-48px; width:320px; height:320px;
  background: radial-gradient(closest-side, rgba(139,92,246,.28), transparent 65%);
}

/* cartão/barra dos filtros */
.filters-glass{
  border:1px solid var(--glass-brd);
  background: var(--glass-bg);
  backdrop-filter: blur(8px);
  border-radius: 16px;
}
@media (prefers-color-scheme: dark){
  .filters-glass{ background: var(--glass-bg-dark); }
}

/* input de busca glass */
.input-glass{
  position: relative;
}
.input-glass svg{
  position:absolute; left:12px; top:50%; transform:translateY(-50%);
  width:16px; height:16px; opacity:.7;
}
.input-glass input{
  width:100%;
  padding:10px 12px 10px 36px;
  border:1px solid var(--glass-brd);
  background: var(--glass-bg);
  backdrop-filter: blur(6px);
  color: var(--text-900);
  border-radius: 12px;
  outline: none;
}
@media (prefers-color-scheme: dark){
  .input-glass input{ background: var(--glass-bg-dark); color: var(--text-200); }
}

/* rail com setas + fades */
.rail{
  position: relative;
}
.rail::before,
.rail::after{
  content:"";
  position:absolute; top:0; width:40px; height:100%; z-index:2; pointer-events:none;
  transition: opacity .2s ease;
}
.rail::before{ left:0; background: linear-gradient(to right, rgba(248,250,252,.95), transparent); }
.rail::after{ right:0; background: linear-gradient(to left, rgba(248,250,252,.95), transparent); }
@media (prefers-color-scheme: dark){
  .rail::before{ background: linear-gradient(to right, rgba(11,16,32,.95), transparent); }
  .rail::after{ background: linear-gradient(to left, rgba(11,16,32,.95), transparent); }
}
.rail.at-start::before{ opacity:0; }
.rail.at-end::after{ opacity:0; }

.rail-btn{
  position:absolute; top:50%; transform:translateY(-50%);
  z-index:3;
  border:1px solid var(--glass-brd);
  background: var(--glass-bg);
  backdrop-filter: blur(6px);
  width:28px; height:28px; border-radius:999px;
  display:grid; place-items:center;
}
@media (prefers-color-scheme: dark){ .rail-btn{ background: var(--glass-bg-dark);} }
.rail-btn svg{ width:16px; height:16px; opacity:.8; }
.rail-btn.left{ left:4px; }
.rail-btn.right{ right:4px; }

/* lista de chips (teu script já popula) */
.chips{
  display:flex; gap:.5rem; flex-wrap:wrap;
}
.chips--scroll{
  overflow:auto; white-space:nowrap; padding:8px 44px; /* espaço pras setas */
  border:1px solid var(--glass-brd);
  background: var(--glass-bg);
  backdrop-filter: blur(6px);
  border-radius: 16px;
  scroll-behavior:smooth;
}
@media (prefers-color-scheme: dark){
  .chips--scroll{ background: var(--glass-bg-dark); }
}

/* chip glass com check quando ativo (usa .is-active que teu JS já liga) */
.chip{
  position:relative;
  display:inline-flex; align-items:center; gap:.5rem;
  padding:8px 14px; padding-right:34px; /* espaço pro check */
  border-radius:999px;
  font-size:.875rem; line-height:1;
  border:1px solid rgba(255,255,255,.2);
  background: rgba(255,255,255,.4);
  color: #334155; /* slate-700 */
  backdrop-filter: blur(4px);
  transition: background-color .15s ease, border-color .15s ease, color .15s ease, box-shadow .2s ease;
}
.chip:hover{ background: rgba(255,255,255,.7); }
@media (prefers-color-scheme: dark){
  .chip{ background: rgba(255,255,255,.06); color: var(--text-200); border-color: rgba(255,255,255,.18); }
  .chip:hover{ background: rgba(255,255,255,.1); }
}

/* estado selecionado */
.chip.is-active{
  border-color: var(--chip-brd);
  background: var(--chip-bg);
  color: #064e3b; /* emerald-900 */
  box-shadow: 0 0 0 6px var(--chip-glow);
}
@media (prefers-color-scheme: dark){
  .chip.is-active{ color:#eafff5; }
}

/* check bolinha à direita (pseudo) */
.chip.is-active::after{
  content:"";
  position:absolute; right:8px; top:50%; transform:translateY(-50%);
  width:22px; height:22px; border-radius:999px;
  border:1px solid var(--chip-brd);
  background:
    radial-gradient(white 60%, transparent 61%) padding-box,
    linear-gradient(var(--chip-brd), var(--chip-brd)) border-box;
  background-clip: padding-box, border-box;
  /* desenha o ícone com mask */
  -webkit-mask:
    url("data:image/svg+xml;utf8,<svg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path fill='black' d='M7.5 13.5L3.5 9.5l1.4-1.4 2.6 2.6 7.1-7.1 1.4 1.4z'/></svg>") center/12px 12px no-repeat;
  mask:
    url("data:image/svg+xml;utf8,<svg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path fill='black' d='M7.5 13.5L3.5 9.5l1.4-1.4 2.6 2.6 7.1-7.1 1.4 1.4z'/></svg>") center/12px 12px no-repeat;
}

/* tags de filtros ativos (#activeFilters do teu patch) */
.filter-tag{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:6px 10px; border-radius:999px;
  border:1px solid var(--chip-brd);
  background: var(--chip-bg);
  color:#065f46; font-size:.875rem;
}
.filter-tag button{
  border:0; background:transparent; cursor:pointer;
  width:20px; height:20px; border-radius:999px;
}
  .filter-tag button:hover{ background: rgba(255,255,255,.45); }
  
  /* utilitário */
  .no-scrollbar::-webkit-scrollbar{ display:none; }
  .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }

  /* ===== Filters V4 (iOS Motion) ===== */
  .filters-v4 .filters-card{ border-radius: 18px; box-shadow: 0 14px 40px rgba(0,0,0,.22); width:100%; padding-bottom:8px; }
  /* layout mais esticado e equilibrado em telas largas */
  .filters-v4 .bar{ display:grid; gap:12px; grid-template-columns: 1fr 1fr; grid-template-areas: "search seg" "chips chips" "tags tags"; align-items:center; }
  .filters-v4 .search{ grid-area: search; display:flex; align-items:center; gap:10px; height:44px; padding:0 14px; border-radius:12px; position:relative; overflow:hidden; }
  .filters-v4 .search input{ flex:1; border:0; outline:0; background:transparent; color:var(--text-use); font:inherit; }
  .filters-v4 .search svg{ width:18px; height:18px; opacity:.8; }
  .filters-v4 .ink{ position:absolute; inset:0; pointer-events:none; overflow:hidden; border-radius:inherit; }
  .filters-v4 .ink::after{ content:""; position:absolute; left:var(--x,50%); top:var(--y,50%); width:10px; height:10px; background:hsl(var(--accent-h) 85% 55% /.22); border-radius:50%; transform:translate(-50%,-50%) scale(0); animation:none; }
  .filters-v4 .ink.play::after{ animation:ripple .6s ease forwards; }
  @keyframes ripple{ to{ transform: translate(-50%,-50%) scale(28); opacity:0 } }

  .filters-v4 .seg-wrap{ grid-area: seg; position:relative; padding:2px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid var(--stroke-use); overflow:hidden; }
  .filters-v4 .seg{ display:flex; gap:4px; position:relative; }
  .filters-v4 .seg button{ --pad:12px; height:36px; padding:0 var(--pad); min-width:80px; background:transparent; border:0; border-radius:999px; color:var(--text-use); font-weight:700; font-size:14px; line-height:1; position:relative; z-index:1; cursor:pointer; transition:color .2s ease, transform .18s ease; }
  .filters-v4 .seg button.is-active{ color:#fff; text-shadow:0 2px 8px hsla(var(--accent-h) 80% 60% /.35); }
  .filters-v4 .seg .thumb{ position:absolute; z-index:0; top:2px; left:2px; height:32px; width:120px; border-radius:999px; background:#1b2330; box-shadow:0 10px 28px rgba(0,0,0,.35); transition: transform .36s cubic-bezier(.2,.8,.16,1), width .32s cubic-bezier(.2,.8,.16,1); background-image: linear-gradient(180deg, hsla(var(--accent-h) 85% 60% /.22), transparent 60%); }

  .filters-v4 .chips{ grid-area: chips; display:flex; flex-wrap:wrap; gap:8px; }
  .filters-v4 .chip{ --h:34px; display:inline-flex; align-items:center; gap:8px; height:var(--h); padding:0 12px; border-radius:999px; border:1px solid var(--stroke-use); background:rgba(255,255,255,.06); cursor:pointer; transition: transform .18s ease, box-shadow .18s ease, background .2s ease; }
  .filters-v4 .chip:hover{ transform: translateY(-1px); box-shadow:0 8px 18px rgba(0,0,0,.18) }
  .filters-v4 .chip.is-active{ background: hsla(var(--accent-h) 85% 60% /.16); border-color: hsla(var(--accent-h) 85% 60% /.45); box-shadow: inset 0 0 0 999px hsla(var(--accent-h) 85% 60% /.06); }
  .filters-v4 .dot{ width:8px; height:8px; border-radius:50%; box-shadow:0 0 0 2px rgba(255,255,255,.45) inset; }

  .filters-v4 .tags{ grid-area: tags; display:flex; flex-wrap:wrap; gap:8px; }
  .filters-v4 .tag{ display:inline-flex; align-items:center; gap:8px; height:30px; padding:0 10px; border-radius:10px; background:rgba(255,255,255,.06); border:1px solid var(--stroke-use); }
  .filters-v4 .tag[data-kind="month"]{ background: linear-gradient(135deg, hsla(var(--accent-h) 85% 60% /.34), hsla(calc(var(--accent-h) + 28) 90% 60% /.24)); border-color: hsla(var(--accent-h) 85% 60% /.6); box-shadow: inset 0 0 0 1px hsla(var(--accent-h) 85% 60% /.22), 0 10px 24px hsla(var(--accent-h) 85% 60% /.18); }
  .filters-v4 .tag button{ all:unset; cursor:pointer; display:grid; place-items:center; width:18px; height:18px; border-radius:6px; }
  .filters-v4 .tag button:hover{ background: rgba(255,255,255,.12) }

  /* responsivo: em telas menores, empilha tudo */
  @media (max-width:900px){
    .filters-v4 .bar{ grid-template-columns: 1fr; grid-template-areas: "search" "seg" "chips" "tags"; }
  }

  /* ============================
     Filters V2 - modern toolbar
     scoped to the current filters block (.filters-aurora)
     ============================ */
  .filters-aurora{ position: relative; isolation: isolate; }
  .filters-aurora .filters-glass{
    position: relative;
    margin: 0;
    padding: 14px;
    border-radius: 18px;
    background: linear-gradient(180deg, rgba(15,20,32,.7), rgba(10,14,24,.6));
    border: 1px solid rgba(255,255,255,.10);
    box-shadow: 0 22px 60px rgba(3,6,12,.45), inset 0 1px 0 rgba(255,255,255,.06);
  }
  :where(html.theme-light,body.theme-light) .filters-aurora .filters-glass{
    background: linear-gradient(180deg, #ffffff, #f4f7ff);
    border-color: rgba(148,163,184,.24);
    box-shadow: 0 26px 60px rgba(148,163,184,.18), inset 0 1px 0 rgba(255,255,255,.6);
  }

  /* header actions */
  .filters-aurora .filters-glass > div:first-child{ align-items: center; }
  .filters-aurora .filter-title{ font-weight: 700; font-size: 12px; letter-spacing: .08em; opacity: .85; text-transform: uppercase; }
  .filters-aurora .btn-ghost{
    appearance:none; border:1px solid rgba(255,255,255,.16); background:transparent;
    color: var(--text-use); font:600 12px/1.2 inherit; padding:6px 10px; border-radius: 999px; cursor:pointer;
    transition: background-color .2s ease, border-color .2s ease, transform .12s ease;
  }
  .filters-aurora .btn-ghost:hover{ background: rgba(255,255,255,.06); transform: translateY(-1px); }
  .filters-aurora [data-open="filter"]{ display:none; }

  /* search input refinement */
  .filters-aurora .input-glass input{ border-radius: 14px; height: 36px; }

  /* month rail tweaks */
  .filters-aurora .rail{ margin: 6px 0 10px; }
  .filters-aurora .chips--scroll{ padding: 10px 48px; border-radius: 14px; }
  .filters-aurora .rail-btn{ width: 30px; height: 30px; }

  /* chips redesign (scoped) */
  .filters-aurora .chips .chip{
    border-radius: 999px;
    padding: 9px 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    color: var(--text-use);
    font-weight: 600;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
  }
  :where(html.theme-light,body.theme-light) .filters-aurora .chips .chip{
    background: linear-gradient(180deg, #ffffff, #f5f8ff);
    color: var(--l-text);
    border-color: rgba(148,163,184,.26);
  }
  .filters-aurora .chips .chip.is-active{
    border-color: hsla(var(--accent-h) 80% 55% /.45);
    background: linear-gradient(135deg, hsl(var(--accent-h) 80% 52% / .25), hsl(calc(var(--accent-h)+18) 80% 52% / .18));
    color: #eafff5;
    box-shadow: 0 8px 26px hsla(var(--accent-h) 70% 50% /.22), inset 0 0 0 1px hsla(var(--accent-h) 90% 60% /.42);
  }
  :where(html.theme-light,body.theme-light) .filters-aurora .chips .chip.is-active{
    color: #0f172a;
    background: linear-gradient(135deg, hsl(var(--accent-h) 85% 64%), hsl(calc(var(--accent-h)+14) 78% 58%));
    box-shadow: 0 10px 28px hsla(var(--accent-h) 70% 52% /.28);
  }

  /* active tags row – compact badges */
  #activeFilters.filter-active{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
  #activeFilters.filter-active:empty{ display:none; }
  #activeFilters.filter-active .filter-tag{ font-weight:700; }

  /* === Segmented (barra de meses V4) === */
.filters-v4 .seg{
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  background: var(--chip-use);
  border: 1px solid var(--stroke-use);
  overflow: hidden;
}
.filters-v4 .seg > .thumb{
  position: absolute;
  top: 6px; left: 6px;
  height: calc(100% - 12px);
  width: 0;            /* JS ajusta via inline */
  transform: translateX(0);
  border-radius: 999px;
  background: linear-gradient(
    135deg,
    hsl(var(--accent-h) 92% 54%),
    hsl(calc(var(--accent-h) + 18) 88% 50%)
  );
  box-shadow:
    0 14px 30px hsla(var(--accent-h) 70% 45% /.35),
    0 0 0 1px rgba(255,255,255,.08) inset;
  transition: transform .28s cubic-bezier(.22,.8,.18,1), width .28s, background .28s;
  z-index: 0;
}
.filters-v4 .seg > button{
  position: relative;
  z-index: 1;
  appearance: none;
  border: 0;
  padding: 10px 14px;
  border-radius: 999px;
  background: transparent;
  color: var(--muted-use);
  font-weight: 700;
  font-size: 13px;
  letter-spacing: .02em;
  cursor: pointer;
  transition: color .2s ease, transform .15s ease;
  white-space: nowrap;
}
.filters-v4 .seg > button.is-active{
  color: #fff;
  transform: translateY(-1px);
  text-shadow: 0 1px 0 rgba(0,0,0,.15);
}
:where(html.theme-light,body.theme-light) .filters-v4 .seg > button.is-active{
  color: var(--l-text);
  text-shadow: none;
}

/* “Fica mais forte” quando está ativo — em temas claros mantemos contraste */
:where(html.theme-dark,body.theme-dark) .filters-v4 .seg > .thumb{
  background: linear-gradient(135deg,
    hsl(var(--accent-h) 95% 52%),
    hsl(calc(var(--accent-h) + 16) 90% 48%)
  );
}

/* === Chips clássicos (se usar os de mês/origem) — ativa + forte === */
.chip--active,
.chip[aria-pressed="true"]{
  background: linear-gradient(135deg,
    hsl(var(--accent-h) 92% 54%),
    hsl(calc(var(--accent-h)+18) 88% 50%)
  );
  color:#fff;
  border-color: transparent;
  box-shadow:
    0 18px 40px hsla(var(--accent-h) 70% 45% /.40),
    0 0 0 1px rgba(255,255,255,.10) inset;
}

/* Quando o chip ativo é de MÊS, deixa ainda mais “aceso” (a bolha pedida): */
.chips[data-filter="month"] .chip--active,
.chips[data-filter="month"] .chip[aria-pressed="true"]{
  background: linear-agradient(135deg,
    hsl(var(--accent-h) 98% 52%),
    hsl(calc(var(--accent-h)+20) 92% 48%)
  );
  box-shadow:
    0 22px 52px hsla(var(--accent-h) 70% 42% /.46),
    0 0 0 1px rgba(255,255,255,.12) inset;
}

/* Light mode adequando contraste */
:where(html.theme-light,body.theme-light) .chips[data-filter="month"] .chip--active,
:where(html.theme-light,body.theme-light) .chips[data-filter="month"] .chip[aria-pressed="true"]{
  color: #0f172a;
  box-shadow:
    0 18px 36px rgba(148,163,184,.22),
    0 0 0 1px rgba(15,23,42,.12) inset;
}
/* ===== Filtro TOP v5 (iOS/glass + grid) ===== */
.filters-v5{
  --glass: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  --ring: 1px solid rgba(255,255,255,.10);
  --shadow: 0 16px 44px rgba(2, 6, 23, .35);
  position: relative;
  width: 100%;
  padding: 16px 18px 20px;
  border-radius: 22px;
  background: var(--glass);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: var(--ring);
  box-shadow: var(--shadow);
}

/* barra utilitária (limpar, busca, etc) */
.filters-v5 .bar{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin-bottom: 12px;
}
.filters-v5 .bar .search,
.filters-v5 .bar input[type="search"]{
  width: 100%;
}

/* rails em modo grid ocupando 100% */
.filters-v5 .rail[data-layout="grid"]{
  width: 100%;
  padding: 10px;
  border-radius: 18px;
  background: rgba(255,255,255,.02);
  border: 1px solid rgba(255,255,255,.06);
  margin-top: 10px;
}

/* LISTAS viram GRID responsivo e simétrico */
.filters-v5 .rail[data-layout="grid"] > ul{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px 12px;
  align-items: stretch;
  width: 100%;
  padding: 0;
  margin: 0;
  list-style: none;
}

/* chips “iOS” */
.filters-v5 .chips .chip{
  display: inline-flex;
  justify-content: center; align-items: center;
  height: 40px;
  width: 100%;
  padding: 0 14px;
  border-radius: 999px;
  background: radial-gradient(120% 140% at 0% 0%,
              rgba(255,255,255,.10) 0%,
              rgba(255,255,255,.04) 100%);
  border: 1px solid rgba(255,255,255,.12);
  color: var(--muted-use);
  font-weight: 700;
  font-size: 13px;
  letter-spacing: .02em;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  box-shadow: 0 2px 0 rgba(255,255,255,.06) inset,
              0 10px 24px rgba(2, 6, 23, .18);
  transition: transform .18s ease, box-shadow .25s ease,
              background .25s ease, color .2s ease, border-color .25s ease;
  cursor: pointer;
  white-space: nowrap;
}

/* hover/press */
.filters-v5 .chips .chip:hover{ transform: translateY(-1px); }
.filters-v5 .chips .chip:active{ transform: translateY(0); }

/* ativa com degradê forte (vinculado ao seu --accent-h) */
.filters-v5 .chips .chip--active,
.filters-v5 .chips .chip[aria-pressed="true"]{
  color: #fff;
  border-color: transparent;
  background: linear-gradient(135deg,
    hsl(var(--accent-h) 96% 52%),
    hsl(calc(var(--accent-h) + 18) 88% 48%)
  );
  box-shadow:
    0 22px 52px hsla(var(--accent-h) 70% 42% /.46),
    0 0 0 1px rgba(255,255,255,.10) inset;
  animation: chipPop .22s cubic-bezier(.22,.8,.18,1);
}

/* “mês” recebe ainda mais ênfase */
.filters-v5 .chips--month .chip--active,
.filters-v5 .chips--month .chip[aria-pressed="true"]{
  background: linear-gradient(135deg,
    hsl(var(--accent-h) 98% 52%),
    hsl(calc(var(--accent-h) + 22) 92% 46%)
  );
}

/* texto claro no tema claro */
:where(html.theme-light,body.theme-light) .filters-v5 .chips .chip--active,
:where(html.theme-light,body.theme-light) .filters-v5 .chips .chip[aria-pressed="true"]{
  color: #0f172a;
  text-shadow: none;
}

/* micro-animação de entrada/ativação */
@keyframes chipPop{
  0% { transform: scale(.98); filter: saturate(.9); }
  100%{ transform: scale(1);   filter: saturate(1); }
}

/* degrade “aura” suave no fundo do bloco */
.filters-v5::after{
  content:"";
  position:absolute; inset:-2px;
  z-index:-1; border-radius:24px;
  background: radial-gradient(60% 60% at 85% 25%,
    hsla(var(--accent-h) 90% 55% /.18), transparent 60%),
    radial-gradient(50% 50% at 10% 80%,
    hsla(calc(var(--accent-h)+30) 85% 55% /.14), transparent 60%);
  filter: blur(12px);
  pointer-events:none;
}

/* responsividade: unidades menores ficam mais compactas */
@media (max-width: 980px){
  .filters-v5 .rail[data-layout="grid"] > ul{
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 8px 10px;
  }
  .filters-v5 .chips .chip{ height: 38px; font-size: 12px; }
}
@media (max-width: 640px){
  .filters-v5{ padding: 12px; }
  .filters-v5 .rail[data-layout="grid"]{ padding: 8px; }
  .filters-v5 .rail[data-layout="grid"] > ul{
    grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
  }
}

/* acessibilidade: respeita “reduzir movimento” */
@media (prefers-reduced-motion: reduce){
  .filters-v5 *,
  .filters-v5 *::before,
  .filters-v5 *::after{ transition: none !important; animation: none !important; }
}
/* ============================================
   PATCH: FILTROS iOS STYLE
   Adicione este bloco ao FINAL do style.css
   (substitui os estilos antigos de .filters)
============================================ */

/* === FILTROS iOS - CONTAINER === */
.filters {
  background: var(--card-use);
  border-radius: 24px;
  padding: 32px;
  margin-bottom: 32px;
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.1),
    0 0 0 1px var(--stroke-use);
  backdrop-filter: blur(20px);
  display: grid;
  gap: 28px;
  grid-template-columns: 1fr;
  transition: all 0.3s ease;
}

:where(html.theme-light, body.theme-light) .filters {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 
    0 4px 16px rgba(148, 163, 184, 0.15),
    0 0 0 1px rgba(148, 163, 184, 0.2);
}

/* === GRUPOS DE FILTRO === */
.filters__group,
.filter-group {
  display: grid;
  gap: 12px;
}

.filters__label,
.filter-label {
  font-size: 11px;
  font-weight: 700;
  color: var(--muted-use);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  padding: 0 4px;
  opacity: 0.85;
}

:where(html.theme-light, body.theme-light) .filters__label,
:where(html.theme-light, body.theme-light) .filter-label {
  color: rgba(71, 85, 105, 0.75);
}

/* === PILLS CONTAINER (scroll horizontal) === */
.filters__chips,
.pills-container,
.chips-line {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 4px 4px 8px;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  align-items: center;
}

.filters__chips::-webkit-scrollbar,
.pills-container::-webkit-scrollbar,
.chips-line::-webkit-scrollbar {
  display: none;
}

/* === PILLS/CHIPS iOS STYLE === */
.chip,
.pill,
.chip--toggle {
  position: relative;
  flex-shrink: 0;
  padding: 10px 18px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-use);
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.12);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

:where(html.theme-light, body.theme-light) .chip,
:where(html.theme-light, body.theme-light) .pill,
:where(html.theme-light, body.theme-light) .chip--toggle {
  background: rgba(0, 0, 0, 0.04);
  border-color: rgba(148, 163, 184, 0.2);
  color: var(--l-text);
}

/* Hover state */
.chip:hover,
.pill:hover,
.chip--toggle:hover {
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.18);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

:where(html.theme-light, body.theme-light) .chip:hover,
:where(html.theme-light, body.theme-light) .pill:hover,
:where(html.theme-light, body.theme-light) .chip--toggle:hover {
  background: rgba(0, 0, 0, 0.08);
  box-shadow: 0 4px 12px rgba(148, 163, 184, 0.2);
}

/* Active state */
.chip:active,
.pill:active,
.chip--toggle:active {
  transform: scale(0.96);
  transition-duration: 0.1s;
}

/* Estado ATIVO/SELECIONADO com gradiente */
.chip.chip--active,
.chip.is-active,
.chip[aria-pressed="true"],
.pill.active,
.chip--toggle.is-active {
  color: #ffffff !important;
  background: linear-gradient(135deg, 
    hsl(var(--accent-h) 75% 55%), 
    hsl(calc(var(--accent-h) + 25) 80% 60%)
  ) !important;
  border-color: transparent !important;
  box-shadow: 
    0 6px 20px hsla(var(--accent-h) 75% 55% / 0.45),
    0 3px 12px hsla(var(--accent-h) 75% 55% / 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-2px) scale(1.02);
}

/* Shine effect no ativo */
.chip.chip--active::before,
.chip.is-active::before,
.chip[aria-pressed="true"]::before,
.pill.active::before,
.chip--toggle.is-active::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.25),
    transparent
  );
  animation: pill-shine 3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes pill-shine {
  0%, 100% { left: -100%; opacity: 0; }
  50% { left: 100%; opacity: 1; }
}

/* Hover no ativo */
.chip.chip--active:hover,
.chip.is-active:hover,
.pill.active:hover,
.chip--toggle.is-active:hover {
  box-shadow: 
    0 8px 24px hsla(var(--accent-h) 75% 55% / 0.5),
    0 4px 16px hsla(var(--accent-h) 75% 55% / 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

/* Badge de contagem (se existir) */
.pill-badge,
.chip-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  margin-left: 6px;
  border-radius: 9px;
  font-size: 10px;
  font-weight: 700;
  background: rgba(0, 0, 0, 0.15);
  color: currentColor;
}

.chip.chip--active .pill-badge,
.pill.active .pill-badge,
.chip--toggle.is-active .chip-badge {
  background: rgba(255, 255, 255, 0.25);
}

/* === SEARCH BAR iOS STYLE === */
.filters__search,
.search-ios {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
}

.filters__search .input,
.filters__search input[type="search"],
.search-input {
  flex: 1;
  padding: 12px 16px 12px 44px;
  border-radius: 12px;
  border: 1px solid var(--stroke-use);
  background: rgba(255, 255, 255, 0.06);
  font-size: 15px;
  color: var(--text-use);
  transition: all 0.3s ease;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

:where(html.theme-light, body.theme-light) .filters__search .input,
:where(html.theme-light, body.theme-light) .filters__search input[type="search"],
:where(html.theme-light, body.theme-light) .search-input {
  background: rgba(0, 0, 0, 0.04);
  border-color: rgba(148, 163, 184, 0.2);
}

.filters__search .input:focus,
.filters__search input[type="search"]:focus,
.search-input:focus {
  outline: none;
  background: rgba(255, 255, 255, 0.1);
  border-color: hsla(var(--accent-h) 75% 55% / 0.5);
  box-shadow: 
    0 0 0 3px hsla(var(--accent-h) 75% 55% / 0.15),
    0 2px 8px rgba(0, 0, 0, 0.1);
}

:where(html.theme-light, body.theme-light) .filters__search .input:focus,
:where(html.theme-light, body.theme-light) .filters__search input[type="search"]:focus,
:where(html.theme-light, body.theme-light) .search-input:focus {
  background: rgba(0, 0, 0, 0.06);
  box-shadow: 
    0 0 0 3px hsla(var(--accent-h) 75% 55% / 0.2),
    0 2px 8px rgba(148, 163, 184, 0.15);
}

.filters__search .input::placeholder,
.search-input::placeholder {
  color: var(--muted-use);
  opacity: 0.7;
}

/* Ícone de busca (adicionar via ::before ou elemento) */
.filters__search::before {
  content: '🔍';
  position: absolute;
  left: 16px;
  font-size: 16px;
  opacity: 0.6;
  pointer-events: none;
  z-index: 1;
}

/* === RESPONSIVO === */
@media (max-width: 768px) {
  .filters {
    padding: 24px 20px;
    gap: 24px;
  }
  
  .filters__chips,
  .pills-container {
    padding-right: 20px;
  }
  
  .chip,
  .pill {
    font-size: 13px;
    padding: 9px 16px;
  }
}

/* === ANIMAÇÃO DE ENTRADA === */
@keyframes filter-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.filters {
  animation: filter-fade-in 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.filters__group:nth-child(1) { animation-delay: 0s; }
.filters__group:nth-child(2) { animation-delay: 0.08s; }
.filters__group:nth-child(3) { animation-delay: 0.16s; }

/* Remove estilos conflitantes antigos */
.filters .chip--toggle,
.filter-bar .chip--toggle {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.12);
}

/* Focus visible para acessibilidade */
.chip:focus-visible,
.pill:focus-visible {
  outline: none;
  box-shadow: 
    0 0 0 3px hsla(var(--accent-h) 80% 55% / 0.35),
    0 4px 12px rgba(0, 0, 0, 0.15);
}

/* ============================================
   FILTROS iOS PREMIUM - REFINADO
============================================ */

.filters {
  background: var(--card-use);
  border-radius: 20px;
  padding: 28px;
  margin-bottom: 32px;
  border: 1px solid var(--stroke-use);
  box-shadow: 
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  display: grid;
  gap: 24px;
  animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

:where(html.theme-light, body.theme-light) .filters {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 
    0 20px 25px -5px rgba(148, 163, 184, 0.1),
    0 10px 10px -5px rgba(148, 163, 184, 0.04);
}

/* Grupos */
.filters__group {
  display: grid;
  gap: 10px;
}

.filters__label {
  font-size: 11px;
  font-weight: 600;
  color: var(--muted-use);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 0 6px;
}

:where(html.theme-light, body.theme-light) .filters__label {
  color: rgba(71, 85, 105, 0.75);
}

/* Container de chips */
.filters__chips,
.chips {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 2px 2px 6px;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.filters__chips::-webkit-scrollbar,
.chips::-webkit-scrollbar {
  display: none;
}

/* Chip/Pill base */
.chip {
  position: relative;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 9px 18px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 590;
  line-height: 1.2;
  color: var(--text-use);
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
  cursor: pointer;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}

:where(html.theme-light, body.theme-light) .chip {
  background: rgba(15, 23, 42, 0.04);
  border-color: rgba(15, 23, 42, 0.08);
  color: var(--l-text);
}

/* Hover */
.chip:hover {
  background: rgba(255, 255, 255, 0.10);
  transform: translateY(-1px);
}

:where(html.theme-light, body.theme-light) .chip:hover {
  background: rgba(15, 23, 42, 0.08);
}

.chip:active {
  transform: scale(0.98);
  transition-duration: 0.1s;
}

/* Estado ATIVO */
.chip.chip--active,
.chip[aria-pressed="true"],
.chip.is-active {
  color: white !important;
  background: linear-gradient(135deg, 
    hsl(var(--accent-h) 70% 52%), 
    hsl(calc(var(--accent-h) + 20) 75% 56%)
  ) !important;
  border-color: transparent !important;
  box-shadow: 
    0 4px 12px hsla(var(--accent-h) 70% 52% / 0.35),
    0 2px 4px hsla(var(--accent-h) 70% 52% / 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
  transform: translateY(-1px);
}

.chip.chip--active:hover,
.chip[aria-pressed="true"]:hover,
.chip.is-active:hover {
  box-shadow: 
    0 6px 16px hsla(var(--accent-h) 70% 52% / 0.4),
    0 3px 6px hsla(var(--accent-h) 70% 52% / 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
}

/* Shine sutil */
.chip.chip--active::after,
.chip[aria-pressed="true"]::after,
.chip.is-active::after {
  content: '';
  position: absolute;
  top: 0;
  left: -50%;
  width: 50%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.12), transparent);
  animation: shimmer 4s ease-in-out infinite;
  pointer-events: none;
}

@keyframes shimmer {
  0%, 100% { left: -50%; opacity: 0; }
  10%, 90% { opacity: 1; }
  50% { left: 100%; }
}

/* Search */
.filters__search {
  position: relative;
}

.filters__search label {
  display: block;
  margin-bottom: 10px;
}

.filters__search input[type="search"] {
  width: 100%;
  padding: 11px 16px 11px 40px;
  border-radius: 12px;
  border: 1px solid var(--stroke-use);
  background: rgba(255, 255, 255, 0.06);
  font-size: 15px;
  font-family: inherit;
  color: var(--text-use);
  transition: all 0.25s ease;
  outline: none;
}

:where(html.theme-light, body.theme-light) .filters__search input[type="search"] {
  background: rgba(15, 23, 42, 0.04);
  border-color: rgba(148, 163, 184, 0.2);
  color: var(--l-text);
}

.filters__search input[type="search"]::placeholder {
  color: var(--muted-use);
  opacity: 0.6;
}

.filters__search input[type="search"]:focus {
  background: rgba(255, 255, 255, 0.10);
  border-color: hsla(var(--accent-h) 70% 52% / 0.4);
  box-shadow: 
    0 0 0 4px hsla(var(--accent-h) 70% 52% / 0.08),
    0 1px 2px rgba(0, 0, 0, 0.05);
}

:where(html.theme-light, body.theme-light) .filters__search input[type="search"]:focus {
  background: rgba(15, 23, 42, 0.08);
}

/* Ícone de busca */
.filters__search::before {
  content: '';
  position: absolute;
  left: 14px;
  bottom: 13px;
  font-size: 14px;
  opacity: 0.5;
  pointer-events: none;
}

/* Responsivo */
@media (max-width: 768px) {
  .filters {
    padding: 20px;
    gap: 20px;
  }
  
  .chip {
    font-size: 13px;
    padding: 8px 16px;
  }
}

/* Animação sequencial dos grupos */
.filters__group:nth-child(1) { animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) 0s both; }
.filters__group:nth-child(2) { animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) 0.08s both; }
.filters__group:nth-child(3) { animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) 0.16s both; }
